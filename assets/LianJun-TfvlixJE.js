import{_ as Y,r as u,c as j,o as Z,a as ee,b as a,d as i,e as n,f as o,w as g,n as w,g as _,F as x,h as R,t as N,i as G,j as te,k as le,l as W,u as ne,m as K}from"./index-B6wJt8st.js";import{I as ae,_ as Q,M as D,L as se,a as X}from"./ListView-BMUgyr7F.js";import{_ as d}from"./SvgIcon-BU5YBnqu.js";import{W as oe,C as ie}from"./CardView-DczYz_C8.js";import"./function-aY7JZtoC.js";const ue={key:0,class:"buttonDivider"},re=["onClick"],ce={__name:"NavBar",props:{options:{type:Array,required:!0},selected:{type:String,default:""},haveSearch:{type:Boolean,default:!0}},emits:["filter-change"],setup(F,{emit:I}){const V=F,f=u(!1),B=u(!1),c=u(null),m=u(null),s=u(null),E=u(null),b=u(null),y=u(null),r=u(null),h=u(null),k=u(null),O=I,P=l=>{O("filter-change",l)},H=j(()=>[...V.options.map(({label:l})=>l)]),q=j(()=>[...V.options.map(({value:l})=>l)]);function U(){const l=c.value.getBoundingClientRect();let e=m.value.getBoundingClientRect().right-l.left;b.value?(c.value.style.height="44px",s.value.style.width="0px",s.value.style.top="22px",s.value.style.left=`${e/2}px`,s.value.style.height="0px",b.value=!1):(s.value.style.top="44px",s.value.style.left="20px",s.value.style.width=`${l.width-40}px`,c.value.style.height="88px",s.value.style.height="32px",b.value=!0)}function A(){const l=c.value.getBoundingClientRect();let e=m.value.getBoundingClientRect().right-l.left;b.value||(s.value.style.top="6px",s.value.style.left=`${e+10}px`,s.value.style.width=`${l.width-e-30}px`,s.value.style.height="32px",E.value=!0)}function J(){const l=c.value.getBoundingClientRect();let e=m.value.getBoundingClientRect().right-l.left;b.value||(s.value.style.width="0px",s.value.style.left=`${e/2}px`,s.value.style.top="22px",s.value.style.height="0px",E.value=!1)}let S=null;function M(l=!1){if(!c.value||!m.value||!r.value||!y.value)return;const t=c.value.getBoundingClientRect(),e=m.value.getBoundingClientRect();S||(S=r.value.getBoundingClientRect());const v=y.value.getBoundingClientRect();let p=e.right-t.left,C=t.right-v.left,$=t.width-p-C;if(l&&f.value?($+=60,p-=10,C-=10,t.width+=40):l&&!f.value&&($-=60,p+=10,C+=10,t.width-=40),T($<150,l),B.value){h.value&&(h.value.style.left=`${p+($-r.value.getBoundingClientRect().width)/4}px`),r.value.style.left=`${p+$/2}px`,k.value&&(k.value.style.right=`${C+($-r.value.getBoundingClientRect().width)/4}px`);return}S.width<$?(r.value.style.left=`${(t.width-S.width)/2}px`,r.value.style.width=`${S.width}px`):(r.value.style.left=`${p}px`,r.value.style.width=`${$}px`)}function T(l,t){l!==B.value&&(B.value=l,te(()=>{M(t)}))}let L=new MutationObserver(()=>{if(c.value){const l=c.value.getBoundingClientRect().top;43.99<=l&&l<=44?z(!0):z(!1)}});function z(l){f.value!==l&&(f.value=l,M(!0))}return Z(()=>{L&&c.value&&L.observe(c.value,{attributes:!0,attributeFilter:["class"]}),r.value&&(setTimeout(()=>{M()},200),window.addEventListener("resize",()=>{M()}))}),ee(()=>{L&&L.disconnect()}),(l,t)=>(a(),i("div",{onMouseleave:J,ref_key:"navBar",ref:c,class:G(["navBar",{navBarTop:f.value}])},[n("div",{ref_key:"searchButton",ref:m,onClick:U,onMouseenter:A,class:"searchButton",style:w(`left: ${f.value?"6px":"16px"};`)},[o(ae,{color:"var(--themeColor)",main:"搜索"},{iconLeft:g(()=>[o(d,{size:[20,17],src:"./image/SF-Symbol/magnifyingglass.svg"})]),_:1})],36),B.value?(a(),i("div",{key:0,ref_key:"optionDividerLeft",ref:h,class:"optionDivider"},null,512)):_("",!0),B.value?_("",!0):(a(),i("div",{key:1,ref_key:"optionContainer",ref:r,class:"optionContainer",title:"按 Shift 可横向滚动"},[(a(!0),i(x,null,R(F.options,(e,v)=>(a(),i(x,{key:e.value},[v!==0?(a(),i("div",ue)):_("",!0),n("div",{class:G(["optionButton",{active:F.selected===e.value}]),onClick:p=>P(e.value)},N(e.label),11,re)],64))),128))],512)),B.value?(a(),i("div",{key:2,ref_key:"optionContainer",ref:r,class:"optionSelectButton"},[o(Q,{color:"var(--themeColor)",options:H.value,values:q.value,onSelectChange:P},null,8,["options","values"])],512)):_("",!0),B.value?(a(),i("div",{key:3,ref_key:"optionDividerRight",ref:k,class:"optionDivider"},null,512)):_("",!0),n("div",{ref_key:"sortButton",ref:y,class:"sortButton",style:w(`right: ${f.value?"6px":"16px"};`)},[o(Q,{color:"var(--themeColor)",options:["时间增序","时间降序","热度增序","热度降序"]})],4),n("div",{ref_key:"searchInputContainer",ref:s,class:"searchInputContainer"},null,512)],34))}},ve=Y(ce,[["__scopeId","data-v-3e0ce000"]]),de={id:"navTop"},pe=["onClick"],ge=["src","title"],fe=["onClick"],me=["src","title"],ye={class:"contentView"},he={class:"profilePhotoModule"},ke={class:"linkAndSetting",style:{"z-index":"2"}},we={class:"switchBlur blur"},Be=["href"],Se=["src","title"],Le=["onClick"],xe=["src","title"],be=["src","width","title"],Ce=["src","width","title"],$e={__name:"LianJun",setup(F){const I=ne(),V=u([{label:"全部",value:"all"},{label:"项目",value:"project"},{label:"视频",value:"video"},{label:"文章",value:"essay"}]),f=u([]),B=u([]),c=u([]),m=u("all"),s=u(325),E=u(90);function b(l){E.value=l?-90:90}const y=u(null),r=u(null),h=u(null),k=u(null),O=l=>{const t=document.getElementById("navTop"),e=document.getElementById("navTitle"),v=document.getElementById("navLeft"),p=document.getElementById("navRight");l>s.value?(t.classList.add("navBackground","navBackgroundDivider"),e.classList.add("navShow"),e.classList.remove("navHidden"),document.querySelectorAll(".switchBlur").forEach(C=>{C.classList.remove("blur")}),document.querySelector(".contentBackground").classList.add("blur")):(t.classList.remove("navBackground","navBackgroundDivider"),e.classList.remove("navShow"),e.classList.add("navHidden"),document.querySelectorAll(".switchBlur").forEach(C=>{C.classList.add("blur")}),document.querySelector(".contentBackground").classList.remove("blur")),l>s.value+80?(v.classList.remove("navHidden"),v.classList.add("navShow"),p.classList.remove("navHidden"),p.classList.add("navShow")):(v.classList.remove("navShow"),v.classList.add("navHidden"),p.classList.remove("navShow"),p.classList.add("navHidden")),l>s.value+250?(document.querySelector(".navBar").classList.add("navBackgroundDivider"),t.classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","88px")):(document.querySelector(".navBar").classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","44px"),l>s.value&&t.classList.add("navBackgroundDivider"))},P=()=>{y.value&&O(y.value.scrollTop)},H=()=>{h.value&&k.value&&(h.value.style.animationPlayState="paused",k.value.style.animationPlayState="paused")},q=()=>{h.value&&k.value&&(h.value.style.animationPlayState="running",k.value.style.animationPlayState="running")},U=async()=>{try{const t=await(await fetch("./json/index.json")).json(),e=Object.keys(t);f.value=e.flatMap(v=>t[v].slice(1).map(p=>({...p,type:t[v][0]})))}catch(l){console.error("Error fetching content data:",l)}},A=async()=>{try{const[l,t]=await Promise.all([fetch("./json/link.json"),fetch("./json/skIcon.json")]);B.value=await l.json(),c.value=await t.json()}catch(l){console.error("Error fetching data:",l)}},J=j(()=>m.value==="all"?f.value:f.value.filter(l=>l.type===m.value)),S=j(()=>B.value),M=j(()=>c.value),T=l=>{l.startsWith("mailto:")?location.assign(l):window.open(l,"_blank")},L=(l,t)=>{t?I.push({name:l,query:{path:t}}):I.push({name:l})},z=l=>{m.value=l};return Z(()=>{y.value&&y.value.addEventListener("scroll",P),r.value&&(r.value.addEventListener("mouseenter",H),r.value.addEventListener("mouseleave",q)),setTimeout(()=>{h.value.style.animationPlayState="paused",k.value.style.animationPlayState="paused",setTimeout(()=>{h.value.style.animationPlayState="running",k.value.style.animationPlayState="running"},1e3)},100),I.path==="/"?(s.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(s.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px")),A(),U()}),ee(()=>{y.value&&y.value.removeEventListener("scroll",P),r.value&&(r.value.removeEventListener("mouseenter",H),r.value.removeEventListener("mouseleave",q))}),le(()=>I.path,l=>{l==="/"?(s.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(s.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px"))}),(l,t)=>(a(),i("div",{ref_key:"scrollView",ref:y},[n("nav",de,[l.$route.name!=="lianjun"?(a(),i("div",{key:0,id:"navLeft",class:"navHidden",onClick:t[0]||(t[0]=e=>L("lianjun"))},[o(d,{src:"./image/SF-Symbol/house.svg"}),t[4]||(t[4]=n("span",null,"主页",-1))])):_("",!0),l.$route.name==="lianjun"?(a(),W(D,{key:1,id:"navLeft",class:"navHidden",position:[20,0,0,-60]},{menuList:g(()=>[(a(!0),i(x,null,R(S.value,e=>(a(),i("div",{onClick:v=>T(e.link),key:e.id},[n("div",null,[n("img",{src:`./image/link/${e.image}`,title:e.name,style:w(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,ge),n("span",{style:w(`color: ${e.color};`)},N(e.name),5)]),o(d,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,pe))),128))]),default:g(()=>[o(d,{src:"./image/SF-Symbol/phone.svg"}),t[5]||(t[5]=n("span",null,"联系",-1))]),_:1})):_("",!0),t[9]||(t[9]=n("div",{id:"navTitle",class:"navHidden"},[n("img",{src:"./image/lianjun.png"}),n("span",null,"LianJun")],-1)),o(D,{id:"navRight",class:"navHidden"},{menuList:g(()=>[n("div",{onClick:t[1]||(t[1]=K(e=>L("setting"),["stop"]))},[n("div",null,[o(d,{src:"./image/SF-Symbol/gearshape.svg"}),t[6]||(t[6]=n("span",null,"设置",-1))]),o(d,{option:"forward"})]),l.$route.name!=="lianjun"?(a(),W(D,{key:0,onIsOpen:b},{menuList:g(()=>[(a(!0),i(x,null,R(S.value,e=>(a(),i("div",{onClick:v=>T(e.link),key:e.id},[n("div",null,[n("img",{src:`./image/link/${e.image}`,title:e.name,style:w(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,me),n("span",{style:w(`color: ${e.color};`)},N(e.name),5)]),o(d,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,fe))),128))]),default:g(()=>[n("div",null,[o(d,{src:"./image/SF-Symbol/phone.svg"}),t[7]||(t[7]=n("span",null,"联系",-1))]),o(d,{option:"down",rotate:E.value},null,8,["rotate"])]),_:1})):_("",!0)]),default:g(()=>[o(d,{src:"./image/SF-Symbol/list.bullet.svg"}),t[8]||(t[8]=n("span",null,"功能",-1))]),_:1})]),n("div",ye,[t[15]||(t[15]=n("div",{class:"contentBackground"},null,-1)),n("div",he,[t[14]||(t[14]=n("div",null,[n("img",{src:"./image/lianjun.png"}),n("p",null,"LianJun")],-1)),n("div",ke,[(a(!0),i(x,null,R(S.value,e=>(a(),i("div",{key:e.id},[n("div",we,[n("a",{href:e.link,target:"_blank"},[n("img",{src:`./image/link/${e.image}`,title:e.name,style:w(`padding: ${e.padding}px;`)},null,12,Se)],8,Be)])]))),128)),t[13]||(t[13]=n("div",{class:"divider blur"},null,-1)),o(D,{selectRadius:8,position:[10,0,0,-75]},{menuList:g(()=>[n("div",{onClick:t[2]||(t[2]=K(e=>L("setting"),["stop"]))},[n("div",null,[o(d,{src:"./image/SF-Symbol/gearshape.svg"}),t[10]||(t[10]=n("span",null,"设置",-1))]),o(d,{option:"forward"})]),o(D,{onIsOpen:b},{menuList:g(()=>[(a(!0),i(x,null,R(S.value,e=>(a(),i("div",{onClick:v=>T(e.link),key:e.id},[n("div",null,[n("img",{src:`./image/link/${e.image}`,title:e.name,style:w(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,xe),n("span",{style:w(`color: ${e.color};`)},N(e.name),5)]),o(d,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,Le))),128))]),default:g(()=>[n("div",null,[o(d,{src:"./image/SF-Symbol/phone.svg"}),t[11]||(t[11]=n("span",null,"联系",-1))]),o(d,{option:"down",rotate:E.value},null,8,["rotate"])]),_:1})]),default:g(()=>[t[12]||(t[12]=n("div",{class:"switchBlur blur"},[n("img",{class:"linkButtonImage",src:"./image/link/setting.png",title:"设置",style:{padding:"4px"}})],-1))]),_:1})])]),o(se,null,{default:g(()=>[o(X,{main:"简历",sub:"喜欢研究 UI 的独立开发者","sub-icon":"subForward"}),o(X,{onClick:t[3]||(t[3]=e=>L("sklist")),main:"经历",sub:"iOS 开发、前端开发、UI 设计 等","sub-icon":"subForward"}),n("div",{class:"skillScrollRow",ref_key:"skillScrollRow",ref:r},[n("div",{class:"scrollView",ref_key:"skillScrollSubRow1",ref:h},[(a(!0),i(x,null,R(M.value,e=>(a(),i("div",{key:e.id},[n("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:w(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,be)]))),128))],512),n("div",{class:"scrollView",ref_key:"skillScrollSubRow2",ref:k},[(a(!0),i(x,null,R(M.value,e=>(a(),i("div",{key:e.id},[n("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:w(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,Ce)]))),128))],512)],512)]),_:1}),o(ve,{class:"blur",options:V.value,selected:m.value,onFilterChange:z,style:{"z-index":"1"}},null,8,["options","selected"]),o(oe,{columnCount:4},{default:g(()=>[(a(!0),i(x,null,R(J.value,e=>(a(),i("div",{key:e.path},[(a(),W(ie,{item:e,class:"switchBlur blur",onClick:v=>L(e.sub?"sublist":"content",e.path),key:e.path},null,8,["item","onClick"]))]))),128))]),_:1})])],512))}},Pe=Y($e,[["__scopeId","data-v-0f725bb1"]]);export{Pe as default};
