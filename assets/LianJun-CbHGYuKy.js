import{_ as I,r as p,o as b,n as B,a as E,b as r,c as u,d as w,e as n,f as a,w as v,g as C,T as x,F as h,h as L,i as S,j as f,t as T,k as _}from"./index-BD61sLrq.js";import{S as D,W as F,C as $}from"./CardView-CYPS85h4.js";import"./function-aY7JZtoC.js";const P={name:"DropdownMenu",setup(){const t=p(!1),e=p(null),i=()=>{t.value=!0;const l=e.value.parentNode;l&&l.classList.contains("dropDownList")?e.value.classList.add("subSelectBackground"):e.value.classList.add("selectBackground"),B(()=>{const o=e.value.querySelector(".menuContainer .dropDownList");o&&g(o)})},c=l=>{e.value.contains(l.target)||(t.value=!1,e.value.classList.remove("selectBackground","subSelectBackground"))},g=l=>{const o=Array.from(l.children);for(let d=o.length-1;d>0;d--){const m=o[d],y=o[d-1];if(m.tagName==="DIV"&&y.tagName==="DIV"){const s=document.createElement("hr");s.className="menuHr",l.insertBefore(s,m)}}};return b(()=>{B(()=>{document.addEventListener("click",c)})}),E(()=>{document.removeEventListener("click",c)}),{isOpen:t,openDropdown:i,dropdownRef:e}}},j={class:"menuContainer"},M={key:0,class:"dropDownList"};function R(t,e,i,c,g,l){return r(),u("div",{ref:"dropdownRef",onClick:e[0]||(e[0]=(...o)=>c.openDropdown&&c.openDropdown(...o)),style:{"z-index":"1"}},[w(t.$slots,"default",{},void 0),n("div",j,[a(x,{name:"fade"},{default:v(()=>[c.isOpen?(r(),u("div",M,[w(t.$slots,"menuList",{},void 0,!0)])):C("",!0)]),_:3})])],512)}const H=I(P,[["render",R],["__scopeId","data-v-f4d79a6d"]]);function N(t,e){t>e?(document.getElementById("navTop").classList.add("navBackground","navBackgroundDivider"),document.getElementById("navTitle").classList.add("navShow"),document.getElementById("navTitle").classList.remove("navHidden"),document.querySelector(".contentBackground").classList.add("backgroundBlur"),document.querySelectorAll(".blur").forEach(i=>{i.classList.remove("blur"),i.classList.add("unblur")})):(document.getElementById("navTop").classList.remove("navBackground","navBackgroundDivider"),document.getElementById("navTitle").classList.remove("navShow"),document.getElementById("navTitle").classList.add("navHidden"),document.querySelector(".contentBackground").classList.remove("backgroundBlur"),document.querySelectorAll(".unblur").forEach(i=>{i.classList.add("blur"),i.classList.remove("unblur")})),t>e+80?(document.getElementById("navLeft").classList.remove("navHidden"),document.getElementById("navLeft").classList.add("navShow"),document.getElementById("navRight").classList.remove("navHidden"),document.getElementById("navRight").classList.add("navShow")):(document.getElementById("navLeft").classList.remove("navShow"),document.getElementById("navLeft").classList.add("navHidden"),document.getElementById("navRight").classList.remove("navShow"),document.getElementById("navRight").classList.add("navHidden")),t>e+250?(document.querySelector(".navBar").classList.add("navBarTop","navBackgroundDivider"),document.getElementById("navTop").classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","88px")):(document.querySelector(".navBar").classList.remove("navBarTop","navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","44px"),t>e&&document.getElementById("navTop").classList.add("navBackgroundDivider"))}const V={components:{Dropdown:H,SvgIcon:D,Waterfall:F,CardView:$},data(){return{intervalId:null,intervalCount:0,myInfoList:[],linkList:[],skIconList:[],filterType:"all",lastWidth:0}},setup(){const t=p(null),e=p(325);function i(){N(t.value.scrollTop,e.value)}const c=p(!1),g=p(null),l=p(null);let o=0,d=.2;function m(){if(l.value){o-=d;const k=l.value.offsetWidth;Math.abs(o)>=k/2&&(o=0),l.value.style.transform=`translateX(${o}px)`,requestAnimationFrame(m)}}const y=()=>{d=0},s=()=>{d=.2};return b(()=>{t.value&&t.value.addEventListener("scroll",i),l.value&&m(),l.value&&(l.value.addEventListener("mouseenter",y),l.value.addEventListener("mouseleave",s))}),E(()=>{t.value&&t.value.removeEventListener("scroll",i)}),{isScrolled:c,scrollView:t,skillScollRow:g,skillScollContainer:l,skillScollRow:g,skillScollContainer:l,showNavTopPara:e}},mounted(){this.$route.path==="/"?(this.showNavTopPara=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(this.showNavTopPara=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px")),this.fetchData(),this.fetchContentData()},computed:{filteredList(){return this.filterType==="all"?this.myInfoList:this.myInfoList.filter(t=>t.type===this.filterType)},getlinkList(){return this.linkList},getSkIconList(){return this.skIconList}},watch:{$route(t,e){t.path==="/"?(this.showNavTopPara=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(this.showNavTopPara=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px"))}},methods:{openLink(t){t.startsWith("mailto:")?location.assign(t):window.open(t,"_blank")},goToPage(t,e){e?this.$router.push({name:t,query:{path:e}}):this.$router.push({name:t})},setFilterType(t){this.filterType=t},fetchContentData(){fetch("./json/index.json").then(t=>t.json()).then(t=>{Object.keys(t).forEach(i=>{this.myInfoList.push(...t[i].slice(1).map(c=>({...c,type:t[i][0]})))})})},fetchData(){fetch("./json/link.json").then(t=>t.json()).then(t=>{this.linkList=t}),fetch("./json/skIcon.json").then(t=>t.json()).then(t=>{this.skIconList=t})}}},q={ref:"scrollView"},W={id:"navTop"},A=["onClick"],O=["src","title"],z={class:"contentView"},J={class:"profilePhotoModule"},U={class:"linkAndSetting"},X={class:"blur"},G=["href"],K=["src","title"],Q=["onClick"],Y=["src","title"],Z={class:"list blur"},ee={class:"skillScollRow",ref:"skillScollRow",style:{overflow:"hidden"}},ne={class:"scrollView",ref:"skillScollContainer",style:{display:"flex",gap:"5px","align-items":"center",padding:"0 16px"}},te=["src","width"],se={class:"navBar"};function le(t,e,i,c,g,l){const o=S("SvgIcon"),d=S("Dropdown"),m=S("CardView"),y=S("Waterfall");return r(),u("div",q,[n("nav",W,[n("div",{id:"navLeft",class:"navHidden",onClick:e[0]||(e[0]=s=>l.goToPage("lianjun"))},[a(o,{src:"./image/SF-Symbol/house.svg"}),e[7]||(e[7]=n("span",null,"主页",-1))]),e[11]||(e[11]=n("div",{id:"navTitle",class:"navHidden"},[n("img",{src:"./image/lianjun.png"}),n("span",null,"LianJun")],-1)),a(d,{id:"navRight",class:"navHidden"},{menuList:v(()=>[n("div",null,[a(o,{src:"./image/SF-Symbol/gearshape.svg"}),e[8]||(e[8]=n("span",null,"设置",-1))]),a(d,null,{menuList:v(()=>[(r(!0),u(h,null,L(l.getlinkList,s=>(r(),u("div",{onClick:k=>l.openLink(s.link)},[n("div",null,[n("img",{src:`./image/link/${s.image}`,title:s.name,style:f(`width: 23px; height: 23px; padding: ${s.padding}px;`)},null,12,O),n("span",{style:f(`color: ${s.color};`)},T(s.name),5)]),a(o,{src:"./image/SF-Symbol/link.svg",color:s.color},null,8,["color"])],8,A))),256))]),default:v(()=>[a(o,{src:"./image/SF-Symbol/phone.svg"}),e[9]||(e[9]=n("span",null,"联系",-1))]),_:1})]),default:v(()=>[a(o,{src:"./image/SF-Symbol/list.bullet.svg"}),e[10]||(e[10]=n("span",null,"功能",-1))]),_:1})]),n("div",z,[e[20]||(e[20]=n("div",{class:"contentBackground"},null,-1)),n("div",J,[e[16]||(e[16]=n("div",null,[n("img",{src:"./image/lianjun.png"}),n("p",null,"LianJun")],-1)),n("div",U,[(r(!0),u(h,null,L(l.getlinkList,s=>(r(),u("div",null,[n("div",X,[n("a",{href:s.link,target:"_blank"},[n("img",{src:`./image/link/${s.image}`,title:s.name,style:f(`padding: ${s.padding}px;`)},null,12,K)],8,G)])]))),256)),e[15]||(e[15]=n("div",{class:"divider blur"},null,-1)),a(d,null,{menuList:v(()=>[n("div",null,[a(o,{src:"./image/SF-Symbol/gearshape.svg"}),e[12]||(e[12]=n("span",null,"设置",-1))]),a(d,null,{menuList:v(()=>[(r(!0),u(h,null,L(l.getlinkList,s=>(r(),u("div",{onClick:k=>l.openLink(s.link)},[n("img",{src:`./image/link/${s.image}`,title:s.name,style:f(`width: 23px; height: 23px; padding: ${s.padding}px;`)},null,12,Y),n("div",null,[n("span",{style:f(`color: ${s.color};`)},T(s.name),5),a(o,{src:"./image/SF-Symbol/link.svg",color:s.color},null,8,["color"])])],8,Q))),256))]),default:v(()=>[a(o,{src:"./image/SF-Symbol/phone.svg"}),e[13]||(e[13]=n("span",null,"联系",-1))]),_:1})]),default:v(()=>[e[14]||(e[14]=n("div",{class:"blur"},[n("img",{class:"linkButtonImage",src:"./image/link/setting.png",title:"设置",style:{padding:"4px"}})],-1))]),_:1})])]),n("div",Z,[n("div",{class:"listRow",onClick:e[1]||(e[1]=s=>l.goToPage("sklist"))},e[17]||(e[17]=[n("div",null,[n("p",{class:"textFonte"},"简介")],-1),n("div",null,[n("p",{class:"subTextFont"},"喜欢研究 UI 的独立开发者"),n("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),e[19]||(e[19]=n("hr",{class:"listHr"},null,-1)),n("div",{class:"listRow",onClick:e[2]||(e[2]=s=>l.goToPage("sklist"))},e[18]||(e[18]=[n("div",null,[n("p",{class:"textFonte"},"经历")],-1),n("div",null,[n("p",{class:"subTextFont"},"iOS 开发、前端开发、UI 设计 等"),n("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),n("div",ee,[n("div",ne,[(r(!0),u(h,null,L(l.getSkIconList,s=>(r(),u("div",null,[n("img",{src:`./image/skill/${s.image}`,class:"skillImage",width:s.size,style:f(`margin-right: ${s.marginRight}px;`)},null,12,te)]))),256))],512)],512)]),n("nav",se,[n("div",null,[n("span",{id:"all",onClick:e[3]||(e[3]=s=>l.setFilterType("all"))},"全部"),n("span",{id:"project",onClick:e[4]||(e[4]=s=>l.setFilterType("project"))},"项目"),n("span",{id:"video",onClick:e[5]||(e[5]=s=>l.setFilterType("video"))},"视频"),n("span",{id:"essay",onClick:e[6]||(e[6]=s=>l.setFilterType("essay"))},"文章")])]),a(y,{columnCount:4},{default:v(()=>[(r(!0),u(h,null,L(l.filteredList,s=>(r(),u("div",{key:s.path},[(r(),_(m,{item:s,class:"blur",onClick:k=>l.goToPage(s.sub?"sublist":"content",s.path),key:s.path},null,8,["item","onClick"]))]))),128))]),_:1})])],512)}const re=I(V,[["render",le],["__scopeId","data-v-e6597139"]]);export{re as default};
