import{_ as J,c as V,r as c,w as Z,o as W,a as K,b as s,d as i,e as Q,f as t,g,h as $,n as L,i as P,T as te,j as ee,F as T,k as F,t as O,l as A,m as le,p as X,u as ne}from"./index-C8mH0GvV.js";import{_ as B,W as se,C as oe}from"./CardView-BOnYCUBX.js";import"./function-aY7JZtoC.js";const ae={class:"menuContainer"},ie={__name:"MultilevelMenu",props:{position:{type:Array,default:()=>[20,5,0,0]},selectRadius:{type:Number,default:5}},emits:["isOpen"],setup(I,{emit:_}){const m=I,x=V(()=>{const o={};return m.position[0]!==0&&(o.top=`${m.position[0]}px`),m.position[1]!==0&&(o.right=`${m.position[1]}px`),m.position[2]!==0&&(o.bottom=`${m.position[2]}px`),m.position[3]!==0&&(o.left=`${m.position[3]}px`),o}),f=c(!1),h=_;Z(f,()=>{h("isOpen",f.value)});function v(){const o=y.value.querySelector(".menuContainer .multilevelMenuList"),d=Array.from(o.children);for(let b=d.length-1;b>0;b--){const C=d[b],E=d[b-1];if(C.tagName==="DIV"&&E.tagName==="DIV"){const j=document.createElement("hr");j.className="menuHr",o.insertBefore(j,C)}}}const u=c(!1),y=c(null),k=c(!1);function w(o){o&&(console.log(o),u.value=!0),f.value=!0,k.value=!0;const d=y.value.parentNode;d&&d.classList.contains("multilevelMenuList")?y.value.classList.add("subSelectedBackground"):(y.value.classList.add("selectedBackground"),y.value.style.borderRadius=`${m.selectRadius}px`),ee(()=>{v()})}function p(o){console.log([u.value,!y.value.contains(o.target)],[!u.value,y.value.contains(o.target)]),u.value&&!y.value.contains(o.target)?(d(),u.value=!1):!u.value&&y.value.contains(o.target)&&d();function d(){k.value=!1,setInterval(()=>{k.value||(f.value=!1,y.value.classList.remove("selectedBackground","subSelectedBackground"),h("isOpen",f))},300)}}return W(()=>{document.addEventListener("click",p)}),K(()=>{document.removeEventListener("click",p)}),(o,d)=>(s(),i("div",{ref_key:"multilevelMenu",ref:y,onClick:d[0]||(d[0]=b=>w(!0)),onMouseenter:d[1]||(d[1]=b=>w(!1)),onMouseleave:p,style:{"z-index":"1"}},[Q(o.$slots,"default",{},void 0),t("div",ae,[g(te,{name:"fade"},{default:$(()=>[f.value?(s(),i("div",{key:0,class:"multilevelMenuList",style:L(x.value)},[Q(o.$slots,"menuList",{},void 0,!0)],4)):P("",!0)]),_:3})])],544))}},z=J(ie,[["__scopeId","data-v-bb1ba889"]]),ue=["onClick","value"],re={__name:"SelectButton",props:{options:{type:Array,required:!0},values:{type:Array,required:!1},color:{type:String,default:"var(--subTextColor)"}},emits:["select-change"],setup(I,{emit:_}){const m=I,x=_,f=k=>{x("select-change",k.target.value)},h=c(null),v=c(null),u=c(null),y=V(()=>{const k=m.values||m.options;return m.options.map((w,p)=>({label:w,value:k[p]}))});return W(()=>{h.value&&v.value&&u.value&&(h.value.style.width=`${v.value.getBoundingClientRect().width}px`,h.value.style.height=`${v.value.getBoundingClientRect().height}px`,v.value.style.color=m.color,v.value.style.top="0px",v.value.style.left="0px",u.value.$el.style.right="0px",u.value.$el.style.top=`${(h.value.getBoundingClientRect().height-u.value.$el.getBoundingClientRect().height)/2}px`)}),(k,w)=>(s(),i("div",{ref_key:"selectButton",ref:h},[t("select",{ref_key:"select",ref:v,onChange:f},[(s(!0),i(T,null,F(y.value,p=>(s(),i("option",{onClick:o=>f(p.value),key:p.label,value:p.value},O(p.label),9,ue))),128))],544),g(B,{ref_key:"icon",ref:u,size:[12,12],color:m.color,src:"./image/SF-Symbol/chevron.up.chevron.down.svg"},null,8,["color"])],512))}},Y=J(re,[["__scopeId","data-v-d0cc9f43"]]),ce={key:0,class:"buttonDivider"},de=["onClick"],ve={__name:"NavBar",props:{options:{type:Array,required:!0},selected:{type:String,default:""},haveSearch:{type:Boolean,default:!0}},emits:["filter-change"],setup(I,{emit:_}){const m=I,x=c(!1),f=c(!1),h=c(!1),v=c(null),u=c(null),y=c(null),k=c(null),w=_,p=r=>{w("filter-change",r)},o=V(()=>[...m.options.map(({label:r})=>r)]),d=V(()=>[...m.options.map(({value:r})=>r)]),b=r=>{x.value=r};let C=null;function E(r=!1){if(!v.value||!u.value||!k.value||!y.value)return;const a=v.value.getBoundingClientRect(),S=u.value.getBoundingClientRect();C||(C=k.value.getBoundingClientRect());const D=y.value.getBoundingClientRect();let R=S.right-a.left,q=a.right-D.left,n=a.width-R-q;r&&f.value?(n+=60,R-=10,q-=10,a.width+=40):r&&!f.value&&(n-=60,R+=10,q+=10,a.width-=40),j(n<150,r),!h.value&&(C.width<n?(k.value.style.left=`${(a.width-C.width)/2}px`,k.value.style.width=`${C.width}px`):(k.value.style.left=`${R}px`,k.value.style.width=`${n}px`))}function j(r,a){r!==h.value&&(h.value=r,ee(()=>{E(a)}))}let H=new MutationObserver(()=>{if(v.value){const r=v.value.getBoundingClientRect().top;43.99<=r&&r<=44?U(!0):U(!1)}});function U(r){f.value!==r&&(f.value=r,E(!0))}return W(()=>{H&&v.value&&H.observe(v.value,{attributes:!0,attributeFilter:["class"]}),k.value&&(E(),window.addEventListener("resize",()=>{E()}))}),K(()=>{H&&H.disconnect()}),(r,a)=>(s(),i("div",{ref_key:"navBar",ref:v,class:X(["navBar",{navBarTop:f.value}])},[t("div",{ref_key:"searchButton",ref:u,class:"searchButton",style:L(`left: ${f.value?"10px":"20px"};`),onMouseenter:a[0]||(a[0]=S=>b(!0)),onMouseleave:a[1]||(a[1]=S=>b(!1)),onMousedown:a[2]||(a[2]=S=>r.handlePress(!0)),onMouseup:a[3]||(a[3]=S=>r.handlePress(!1)),onTouchstart:a[4]||(a[4]=S=>b(!0)),onTouchend:a[5]||(a[5]=S=>b(!1)),onTouchcancel:a[6]||(a[6]=S=>b(!1))},[x.value?P("",!0):(s(),A(B,{key:0,color:"#000000",size:[18,16],src:"./image/SF-Symbol/magnifyingglass.svg"})),x.value?(s(),A(B,{key:1,size:[16,16],src:"./image/SF-Symbol/magnifyingglass-bold.svg"})):P("",!0),a[7]||(a[7]=le(" 搜索 "))],36),h.value?P("",!0):(s(),i("div",{key:0,ref_key:"optionContainer",ref:k,class:"optionContainer",title:"按 Shift 可横向滚动"},[(s(!0),i(T,null,F(I.options,(S,D)=>(s(),i(T,{key:S.value},[D!==0?(s(),i("div",ce)):P("",!0),t("div",{class:X(["optionButton",{active:I.selected===S.value}]),onClick:R=>p(S.value)},O(S.label),11,de)],64))),128))],512)),h.value?(s(),i("div",{key:1,ref_key:"optionContainer",ref:k,class:"optionSelectButton"},[g(Y,{color:"var(--themeColor)",options:o.value,values:d.value,onSelectChange:p},null,8,["options","values"])],512)):P("",!0),t("div",{ref_key:"sortButton",ref:y,class:"sortButton",style:L(`right: ${f.value?"10px":"20px"};`)},[g(Y,{options:["时间增序","时间降序","热度增序","热度降序"]})],4)],2))}},pe=J(ve,[["__scopeId","data-v-8131f385"]]),ge={id:"navTop"},me=["onClick"],fe=["src","title"],ye=["onClick"],ke=["src","title"],he={class:"contentView"},Se={class:"profilePhotoModule"},we={class:"linkAndSetting"},Be={class:"switchBlur blur"},be=["href"],$e=["src","title"],Le=["onClick"],xe=["src","title"],Ce={class:"list switchBlur blur"},Me=["src","width","title"],_e=["src","width","title"],Re={__name:"LianJun",setup(I){const _=ne(),m=c([{label:"全部",value:"all"},{label:"项目",value:"project"},{label:"视频",value:"video"},{label:"文章",value:"essay"}]),x=c([]),f=c([]),h=c([]),v=c("all"),u=c(325),y=c(90);function k(n){y.value=n?-90:90}const w=c(null),p=c(null),o=c(null),d=c(null),b=n=>{const l=document.getElementById("navTop"),e=document.getElementById("navTitle"),M=document.getElementById("navLeft"),N=document.getElementById("navRight");n>u.value?(l.classList.add("navBackground","navBackgroundDivider"),e.classList.add("navShow"),e.classList.remove("navHidden"),document.querySelectorAll(".switchBlur").forEach(G=>{G.classList.remove("blur")}),document.querySelector(".contentBackground").classList.add("blur")):(l.classList.remove("navBackground","navBackgroundDivider"),e.classList.remove("navShow"),e.classList.add("navHidden"),document.querySelectorAll(".switchBlur").forEach(G=>{G.classList.add("blur")}),document.querySelector(".contentBackground").classList.remove("blur")),n>u.value+80?(M.classList.remove("navHidden"),M.classList.add("navShow"),N.classList.remove("navHidden"),N.classList.add("navShow")):(M.classList.remove("navShow"),M.classList.add("navHidden"),N.classList.remove("navShow"),N.classList.add("navHidden")),n>u.value+250?(document.querySelector(".navBar").classList.add("navBackgroundDivider"),l.classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","88px")):(document.querySelector(".navBar").classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","44px"),n>u.value&&l.classList.add("navBackgroundDivider"))},C=()=>{w.value&&b(w.value.scrollTop)},E=()=>{o.value&&d.value&&(o.value.style.animationPlayState="paused",d.value.style.animationPlayState="paused")},j=()=>{o.value&&d.value&&(o.value.style.animationPlayState="running",d.value.style.animationPlayState="running")},H=async()=>{try{const l=await(await fetch("./json/index.json")).json(),e=Object.keys(l);x.value=e.flatMap(M=>l[M].slice(1).map(N=>({...N,type:l[M][0]})))}catch(n){console.error("Error fetching content data:",n)}},U=async()=>{try{const[n,l]=await Promise.all([fetch("./json/link.json"),fetch("./json/skIcon.json")]);f.value=await n.json(),h.value=await l.json()}catch(n){console.error("Error fetching data:",n)}},r=V(()=>v.value==="all"?x.value:x.value.filter(n=>n.type===v.value)),a=V(()=>f.value),S=V(()=>h.value),D=n=>{n.startsWith("mailto:")?location.assign(n):window.open(n,"_blank")},R=(n,l)=>{l?_.push({name:n,query:{path:l}}):_.push({name:n})},q=n=>{v.value=n};return W(()=>{w.value&&w.value.addEventListener("scroll",C),p.value&&(p.value.addEventListener("mouseenter",E),p.value.addEventListener("mouseleave",j)),setTimeout(()=>{o.value.style.animationPlayState="paused",d.value.style.animationPlayState="paused",setTimeout(()=>{o.value.style.animationPlayState="running",d.value.style.animationPlayState="running"},1e3)},100),_.path==="/"?(u.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(u.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px")),U(),H()}),K(()=>{w.value&&w.value.removeEventListener("scroll",C),p.value&&(p.value.removeEventListener("mouseenter",E),p.value.removeEventListener("mouseleave",j))}),Z(()=>_.path,n=>{n==="/"?(u.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(u.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px"))}),(n,l)=>(s(),i("div",{ref_key:"scrollView",ref:w},[t("nav",ge,[n.$route.name!=="lianjun"?(s(),i("div",{key:0,id:"navLeft",class:"navHidden",onClick:l[0]||(l[0]=e=>R("lianjun"))},[g(B,{src:"./image/SF-Symbol/house.svg"}),l[3]||(l[3]=t("span",null,"主页",-1))])):P("",!0),n.$route.name==="lianjun"?(s(),A(z,{key:1,id:"navLeft",class:"navHidden",position:[20,0,0,-60]},{menuList:$(()=>[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{onClick:M=>D(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,fe),t("span",{style:L(`color: ${e.color};`)},O(e.name),5)]),g(B,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,me))),128))]),default:$(()=>[g(B,{src:"./image/SF-Symbol/phone.svg"}),l[4]||(l[4]=t("span",null,"联系",-1))]),_:1})):P("",!0),l[8]||(l[8]=t("div",{id:"navTitle",class:"navHidden"},[t("img",{src:"./image/lianjun.png"}),t("span",null,"LianJun")],-1)),g(z,{id:"navRight",class:"navHidden"},{menuList:$(()=>[t("div",null,[t("div",null,[g(B,{src:"./image/SF-Symbol/gearshape.svg"}),l[5]||(l[5]=t("span",null,"设置",-1))]),g(B,{size:14,src:"./image/SF-Symbol/chevron.svg"})]),n.$route.name!=="lianjun"?(s(),A(z,{key:0,onIsOpen:k},{menuList:$(()=>[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{onClick:M=>D(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,ke),t("span",{style:L(`color: ${e.color};`)},O(e.name),5)]),g(B,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,ye))),128))]),default:$(()=>[t("div",null,[g(B,{src:"./image/SF-Symbol/phone.svg"}),l[6]||(l[6]=t("span",null,"联系",-1))]),g(B,{rotate:y.value,size:[14,11],src:"./image/SF-Symbol/chevron.svg"},null,8,["rotate"])]),_:1})):P("",!0)]),default:$(()=>[g(B,{src:"./image/SF-Symbol/list.bullet.svg"}),l[7]||(l[7]=t("span",null,"功能",-1))]),_:1})]),t("div",he,[l[17]||(l[17]=t("div",{class:"contentBackground"},null,-1)),t("div",Se,[l[13]||(l[13]=t("div",null,[t("img",{src:"./image/lianjun.png"}),t("p",null,"LianJun")],-1)),t("div",we,[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{key:e.id},[t("div",Be,[t("a",{href:e.link,target:"_blank"},[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`padding: ${e.padding}px;`)},null,12,$e)],8,be)])]))),128)),l[12]||(l[12]=t("div",{class:"divider blur"},null,-1)),g(z,{selectRadius:8,position:[10,0,0,-75]},{menuList:$(()=>[t("div",null,[g(B,{src:"./image/SF-Symbol/gearshape.svg"}),l[9]||(l[9]=t("span",null,"设置",-1))]),g(z,null,{menuList:$(()=>[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{onClick:M=>D(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,xe),t("span",{style:L(`color: ${e.color};`)},O(e.name),5)]),g(B,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,Le))),128))]),default:$(()=>[g(B,{src:"./image/SF-Symbol/phone.svg"}),l[10]||(l[10]=t("span",null,"联系",-1))]),_:1})]),default:$(()=>[l[11]||(l[11]=t("div",{class:"switchBlur blur"},[t("img",{class:"linkButtonImage",src:"./image/link/setting.png",title:"设置",style:{padding:"4px"}})],-1))]),_:1})])]),t("div",Ce,[t("div",{class:"listRow",onClick:l[1]||(l[1]=e=>R("sklist"))},l[14]||(l[14]=[t("div",null,[t("p",{class:"textFonte"},"简介")],-1),t("div",null,[t("p",{class:"subTextFont"},"喜欢研究 UI 的独立开发者"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),l[16]||(l[16]=t("hr",{class:"listHr"},null,-1)),t("div",{class:"listRow",onClick:l[2]||(l[2]=e=>R("sklist"))},l[15]||(l[15]=[t("div",null,[t("p",{class:"textFonte"},"经历")],-1),t("div",null,[t("p",{class:"subTextFont"},"iOS 开发、前端开发、UI 设计 等"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),t("div",{class:"skillScrollRow",ref_key:"skillScrollRow",ref:p},[t("div",{class:"scrollView",ref_key:"skillScrollSubRow1",ref:o},[(s(!0),i(T,null,F(S.value,e=>(s(),i("div",{key:e.id},[t("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:L(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,Me)]))),128))],512),t("div",{class:"scrollView",ref_key:"skillScrollSubRow2",ref:d},[(s(!0),i(T,null,F(S.value,e=>(s(),i("div",{key:e.id},[t("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:L(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,_e)]))),128))],512)],512)]),g(pe,{class:"blur",options:m.value,selected:v.value,onFilterChange:q},null,8,["options","selected"]),g(se,{columnCount:4},{default:$(()=>[(s(!0),i(T,null,F(r.value,e=>(s(),i("div",{key:e.path},[(s(),A(oe,{item:e,class:"switchBlur blur",onClick:M=>R(e.sub?"sublist":"content",e.path),key:e.path},null,8,["item","onClick"]))]))),128))]),_:1})])],512))}},Pe=J(Re,[["__scopeId","data-v-7021a057"]]);export{Pe as default};
