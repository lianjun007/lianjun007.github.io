import{_ as E,r as s,o as F,a as S,b as n,c as i,k as C,j as D,e as t,g as r,t as a,F as f,h as V}from"./index-AllwCDKU.js";const L={name:"CardView",props:{infoArray:{type:Object,required:!0}},setup(m){const y=s(m.infoArray),l=s(null),e=s(0),g=s(0),u=s(0),c=s(!0);let _;const x=()=>{if(l.value){const o=l.value.getBoundingClientRect().width;e.value=o/7>30?o/7:20,g.value=o/3,u.value=o/13>20?o/13:20;const d=300;c.value=o>=d}},w=s(null),h=()=>{if(!w.value)return;const o=w.value,d=o.scrollLeft,v=o.scrollWidth-o.clientWidth,k=20,R=d<=0,b=d>=v,T=R?0:k,A=b?100:100-k;o.style.mask=`
            linear-gradient(
                90deg,
                transparent 0,
                #fff ${T}%,
                #fff ${A}%,
                transparent 100%
            )
            `},z=()=>{if(!w.value)return;let o;const d=w.value,v=()=>{window.cancelAnimationFrame(o),o=window.requestAnimationFrame(h)};return d.addEventListener("scroll",v),setTimeout(()=>{h()},500),()=>{d.removeEventListener("scroll",v)}};return F(()=>{if(l.value){const d=()=>{x(),h()};_=new ResizeObserver(d),_.observe(l.value)}const o=z();S(()=>{o&&o()})}),S(()=>{_&&_.disconnect()}),{cardViewContent:y,viewRef:l,modulePadding:e,imageSize:g,fontSize:u,isShowInfo:c,tagContainerRef:w}}},B={ref:"viewRef"},I=["src","width"],O={class:"dateText"},W={key:0},j={class:"tagContainer",ref:"tagContainerRef"},q={class:"tag"},N={key:0,class:"info"},P=["src"],G={style:{width:"100%"}},H={class:"title"},M={class:"dateText"},U={key:0},J={class:"tagContainer",ref:"tagContainerRef"},K={class:"tag"},Q={key:0,class:"info"},X=["src"],Y={class:"title"},Z={class:"dateText"},p={key:0},$={class:"tagContainer",ref:"tagContainerRef"},ee={class:"tag"},te={key:0,class:"info"},ne=["src"],ie={class:"dateText"},ae={key:0},oe={class:"tag"};function re(m,y,l,e,g,u){return n(),i("div",B,[e.cardViewContent.view==="module"?(n(),i("div",{key:0,class:C(e.cardViewContent.view),style:D(`padding: ${e.modulePadding}px;`)},[t("div",null,[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`,width:e.imageSize},null,8,I)):r("",!0),t("div",null,[t("p",{class:"title",style:D(`font-size: ${e.fontSize}px;`)},a(e.cardViewContent.title),5),t("div",O,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",W," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)])])]),t("div",j,[(n(!0),i(f,null,V(e.cardViewContent.tag,c=>(n(),i("div",{key:c},[t("div",q,a(c),1)]))),128))],512),e.isShowInfo&&e.cardViewContent.info?(n(),i("p",N,a(e.cardViewContent.info),1)):r("",!0)],6)):r("",!0),e.cardViewContent.view==="set"?(n(),i("div",{key:1,class:C(e.cardViewContent.view)},[t("div",null,[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`},null,8,P)):r("",!0),t("div",G,[t("p",H,a(e.cardViewContent.title),1),t("div",M,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",U," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)]),t("div",J,[(n(!0),i(f,null,V(e.cardViewContent.tag,c=>(n(),i("div",{key:c},[t("div",K,a(c),1)]))),128))],512)])]),e.cardViewContent.info?(n(),i("p",Q,a(e.cardViewContent.info),1)):r("",!0)],2)):r("",!0),e.cardViewContent.view==="cover"?(n(),i("div",{key:2,class:C(e.cardViewContent.view)},[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`},null,8,X)):r("",!0),t("div",null,[t("div",null,[t("div",null,[t("p",Y,a(e.cardViewContent.title),1),t("div",Z,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",p," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)])])]),t("div",$,[(n(!0),i(f,null,V(e.cardViewContent.tag,c=>(n(),i("div",null,[t("div",ee,a(c),1)]))),256))],512),e.isShowInfo&&e.cardViewContent.info?(n(),i("p",te,a(e.cardViewContent.info),1)):r("",!0)])],2)):r("",!0),e.cardViewContent.view==="essay"?(n(),i("div",{key:3,class:C(e.cardViewContent.view)},[t("div",null,[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`},null,8,ne)):r("",!0),t("div",null,[t("p",null,a(e.cardViewContent.title),1),t("div",ie,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",ae," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)])])]),t("div",null,[(n(!0),i(f,null,V(e.cardViewContent.tag,c=>(n(),i("div",null,[t("div",oe,a(c),1)]))),256))]),t("p",null,a(e.cardViewContent.info),1)],2)):r("",!0)],512)}const de=E(L,[["render",re],["__scopeId","data-v-921bc25c"]]);export{de as C};
