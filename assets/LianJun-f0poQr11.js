import{_ as I,r as p,o as $,n as C,a as D,b as i,c as a,d as E,e as n,f as d,w as u,g as f,h as w,T as j,F as k,i as L,j as P,t as b,k as _,l as B}from"./index-BXmqatRE.js";import{S as R,W as N,C as M}from"./CardView-B9rBTPKZ.js";import"./function-aY7JZtoC.js";const H={name:"DropdownMenu",props:{position:{type:Array,default:[20,5,0,0]},selectRadius:{type:Number,default:5}},setup(e){const t=p(e.position[0]),r=p(e.position[1]),v=p(e.position[2]),g=p(e.position[3]),s=p(!1),o=p(null),c=()=>{s.value=!0;const m=o.value.parentNode;m&&m.classList.contains("dropDownList")?o.value.classList.add("subSelectBackground"):(o.value.classList.add("selectBackground"),o.value.style.borderRadius=e.selectRadius+"px"),C(()=>{const l=o.value.querySelector(".menuContainer .dropDownList");l&&S(l)})},y=m=>{o.value.contains(m.target)||(s.value=!1,o.value.classList.remove("selectBackground","subSelectBackground"))},S=m=>{const l=Array.from(m.children);for(let h=l.length-1;h>0;h--){const T=l[h],F=l[h-1];if(T.tagName==="DIV"&&F.tagName==="DIV"){const x=document.createElement("hr");x.className="menuHr",m.insertBefore(x,T)}}};return $(()=>{C(()=>{document.addEventListener("click",y)})}),D(()=>{document.removeEventListener("click",y)}),{isOpen:s,openDropdown:c,dropdownRef:o,top:t,right:r,bottom:v,left:g}},methods:{getDynamicStyle(){const e={};return this.top!==0&&(e.top=`${this.top}px`),this.right!==0&&(e.right=`${this.right}px`),this.bottom!==0&&(e.bottom=`${this.bottom}px`),this.left!==0&&(e.left=`${this.left}px`),e}}},q={class:"menuContainer"};function V(e,t,r,v,g,s){return i(),a("div",{ref:"dropdownRef",onClick:t[0]||(t[0]=(...o)=>v.openDropdown&&v.openDropdown(...o)),style:{"z-index":"1"}},[E(e.$slots,"default",{},void 0),n("div",q,[d(j,{name:"fade"},{default:u(()=>[v.isOpen?(i(),a("div",{key:0,class:"dropDownList",style:f(s.getDynamicStyle())},[E(e.$slots,"menuList",{},void 0,!0)],4)):w("",!0)]),_:3})])],512)}const A=I(H,[["render",V],["__scopeId","data-v-3886130a"]]),W={name:"NavBar",props:{options:{type:Array,required:!0},selected:{type:String,default:""}},methods:{handleClick(e){this.$emit("filter-change",e)}}},O={class:"navBar"},z=["onClick"];function J(e,t,r,v,g,s){return i(),a("nav",O,[n("div",null,[(i(!0),a(k,null,L(r.options,o=>(i(),a("span",{key:o.value,class:P({active:r.selected===o.value}),onClick:c=>s.handleClick(o.value)},b(o.label),11,z))),128))])])}const U=I(W,[["render",J]]);function X(e,t){e>t?(document.getElementById("navTop").classList.add("navBackground","navBackgroundDivider"),document.getElementById("navTitle").classList.add("navShow"),document.getElementById("navTitle").classList.remove("navHidden"),document.querySelectorAll(".switchBlur").forEach(r=>{r.classList.remove("blur")}),document.querySelector(".contentBackground").classList.add("blur")):(document.getElementById("navTop").classList.remove("navBackground","navBackgroundDivider"),document.getElementById("navTitle").classList.remove("navShow"),document.getElementById("navTitle").classList.add("navHidden"),document.querySelectorAll(".switchBlur").forEach(r=>{r.classList.add("blur")}),document.querySelector(".contentBackground").classList.remove("blur")),e>t+80?(document.getElementById("navLeft").classList.remove("navHidden"),document.getElementById("navLeft").classList.add("navShow"),document.getElementById("navRight").classList.remove("navHidden"),document.getElementById("navRight").classList.add("navShow")):(document.getElementById("navLeft").classList.remove("navShow"),document.getElementById("navLeft").classList.add("navHidden"),document.getElementById("navRight").classList.remove("navShow"),document.getElementById("navRight").classList.add("navHidden")),e>t+250?(document.querySelector(".navBar").classList.add("navBarTop","navBackgroundDivider"),document.getElementById("navTop").classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","88px")):(document.querySelector(".navBar").classList.remove("navBarTop","navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","44px"),e>t&&document.getElementById("navTop").classList.add("navBackgroundDivider"))}const G={components:{Dropdown:A,SvgIcon:R,Waterfall:N,CardView:M,NavBar:U},data(){return{filterOptions:[{label:"全部",value:"all"},{label:"项目",value:"project"},{label:"视频",value:"video"},{label:"文章",value:"essay"}],intervalId:null,intervalCount:0,myInfoList:[],linkList:[],skIconList:[],filterType:"all",lastWidth:0}},setup(){const e=p(null),t=p(325);function r(){X(e.value.scrollTop,t.value)}const v=p(!1),g=p(null),s=p(null);let o=0,c=.2;function y(){if(s.value){o-=c;const l=s.value.offsetWidth;Math.abs(o)>=l/2&&(o=0),s.value.style.transform=`translateX(${o}px)`,requestAnimationFrame(y)}}const S=()=>{c=0},m=()=>{c=.2};return $(()=>{e.value&&e.value.addEventListener("scroll",r),s.value&&y(),s.value&&(s.value.addEventListener("mouseenter",S),s.value.addEventListener("mouseleave",m))}),D(()=>{e.value&&e.value.removeEventListener("scroll",r)}),{isScrolled:v,scrollView:e,skillScollRow:g,skillScollContainer:s,skillScollRow:g,skillScollContainer:s,showNavTopPara:t}},mounted(){this.$route.path==="/"?(this.showNavTopPara=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(this.showNavTopPara=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px")),this.fetchData(),this.fetchContentData()},computed:{filteredList(){return this.filterType==="all"?this.myInfoList:this.myInfoList.filter(e=>e.type===this.filterType)},getlinkList(){return this.linkList},getSkIconList(){return this.skIconList}},watch:{$route(e,t){e.path==="/"?(this.showNavTopPara=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(this.showNavTopPara=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px"))}},methods:{openLink(e){e.startsWith("mailto:")?location.assign(e):window.open(e,"_blank")},goToPage(e,t){t?this.$router.push({name:e,query:{path:t}}):this.$router.push({name:e})},setFilterType(e){this.filterType=e},fetchContentData(){fetch("./json/index.json").then(e=>e.json()).then(e=>{Object.keys(e).forEach(r=>{this.myInfoList.push(...e[r].slice(1).map(v=>({...v,type:e[r][0]})))})})},fetchData(){fetch("./json/link.json").then(e=>e.json()).then(e=>{this.linkList=e}),fetch("./json/skIcon.json").then(e=>e.json()).then(e=>{this.skIconList=e})}}},K={ref:"scrollView"},Q={id:"navTop"},Y=["onClick"],Z=["src","title"],ee=["onClick"],te=["src","title"],ne={class:"contentView"},le={class:"profilePhotoModule"},se={class:"linkAndSetting"},oe={class:"switchBlur blur"},ie=["href"],ae=["src","title"],re=["onClick"],de=["src","title"],ce={class:"list switchBlur blur"},ue={class:"skillScollRow",ref:"skillScollRow",style:{overflow:"hidden"}},ve={class:"scrollView",ref:"skillScollContainer",style:{display:"flex",gap:"5px","align-items":"center",padding:"0 16px"}},me=["src","width"];function pe(e,t,r,v,g,s){const o=B("SvgIcon"),c=B("Dropdown"),y=B("NavBar"),S=B("CardView"),m=B("Waterfall");return i(),a("div",K,[n("nav",Q,[e.$route.name!=="lianjun"?(i(),a("div",{key:0,id:"navLeft",class:"navHidden",onClick:t[0]||(t[0]=l=>s.goToPage("lianjun"))},[d(o,{src:"./image/SF-Symbol/house.svg"}),t[3]||(t[3]=n("span",null,"主页",-1))])):w("",!0),e.$route.name==="lianjun"?(i(),_(c,{key:1,id:"navLeft",class:"navHidden",position:[20,0,0,-60]},{menuList:u(()=>[(i(!0),a(k,null,L(s.getlinkList,l=>(i(),a("div",{onClick:h=>s.openLink(l.link)},[n("div",null,[n("img",{src:`./image/link/${l.image}`,title:l.name,style:f(`width: 23px; height: 23px; padding: ${l.padding}px;`)},null,12,Z),n("span",{style:f(`color: ${l.color};`)},b(l.name),5)]),d(o,{src:"./image/SF-Symbol/link.svg",color:l.color},null,8,["color"])],8,Y))),256))]),default:u(()=>[d(o,{src:"./image/SF-Symbol/phone.svg"}),t[4]||(t[4]=n("span",null,"联系",-1))]),_:1})):w("",!0),t[8]||(t[8]=n("div",{id:"navTitle",class:"navHidden"},[n("img",{src:"./image/lianjun.png"}),n("span",null,"LianJun")],-1)),d(c,{id:"navRight",class:"navHidden"},{menuList:u(()=>[n("div",null,[d(o,{src:"./image/SF-Symbol/gearshape.svg"}),t[5]||(t[5]=n("span",null,"设置",-1))]),e.$route.name!=="lianjun"?(i(),_(c,{key:0},{menuList:u(()=>[(i(!0),a(k,null,L(s.getlinkList,l=>(i(),a("div",{onClick:h=>s.openLink(l.link)},[n("div",null,[n("img",{src:`./image/link/${l.image}`,title:l.name,style:f(`width: 23px; height: 23px; padding: ${l.padding}px;`)},null,12,te),n("span",{style:f(`color: ${l.color};`)},b(l.name),5)]),d(o,{src:"./image/SF-Symbol/link.svg",color:l.color},null,8,["color"])],8,ee))),256))]),default:u(()=>[d(o,{src:"./image/SF-Symbol/phone.svg"}),t[6]||(t[6]=n("span",null,"联系",-1))]),_:1})):w("",!0)]),default:u(()=>[d(o,{src:"./image/SF-Symbol/list.bullet.svg"}),t[7]||(t[7]=n("span",null,"功能",-1))]),_:1})]),n("div",ne,[t[17]||(t[17]=n("div",{class:"contentBackground"},null,-1)),n("div",le,[t[13]||(t[13]=n("div",null,[n("img",{src:"./image/lianjun.png"}),n("p",null,"LianJun")],-1)),n("div",se,[(i(!0),a(k,null,L(s.getlinkList,l=>(i(),a("div",null,[n("div",oe,[n("a",{href:l.link,target:"_blank"},[n("img",{src:`./image/link/${l.image}`,title:l.name,style:f(`padding: ${l.padding}px;`)},null,12,ae)],8,ie)])]))),256)),t[12]||(t[12]=n("div",{class:"divider blur"},null,-1)),d(c,{selectRadius:8},{menuList:u(()=>[n("div",null,[d(o,{src:"./image/SF-Symbol/gearshape.svg"}),t[9]||(t[9]=n("span",null,"设置",-1))]),d(c,null,{menuList:u(()=>[(i(!0),a(k,null,L(s.getlinkList,l=>(i(),a("div",{onClick:h=>s.openLink(l.link)},[n("img",{src:`./image/link/${l.image}`,title:l.name,style:f(`width: 23px; height: 23px; padding: ${l.padding}px;`)},null,12,de),n("div",null,[n("span",{style:f(`color: ${l.color};`)},b(l.name),5),d(o,{src:"./image/SF-Symbol/link.svg",color:l.color},null,8,["color"])])],8,re))),256))]),default:u(()=>[d(o,{src:"./image/SF-Symbol/phone.svg"}),t[10]||(t[10]=n("span",null,"联系",-1))]),_:1})]),default:u(()=>[t[11]||(t[11]=n("div",{class:"switchBlur blur"},[n("img",{class:"linkButtonImage",src:"./image/link/setting.png",title:"设置",style:{padding:"4px"}})],-1))]),_:1})])]),n("div",ce,[n("div",{class:"listRow",onClick:t[1]||(t[1]=l=>s.goToPage("sklist"))},t[14]||(t[14]=[n("div",null,[n("p",{class:"textFonte"},"简介")],-1),n("div",null,[n("p",{class:"subTextFont"},"喜欢研究 UI 的独立开发者"),n("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),t[16]||(t[16]=n("hr",{class:"listHr"},null,-1)),n("div",{class:"listRow",onClick:t[2]||(t[2]=l=>s.goToPage("sklist"))},t[15]||(t[15]=[n("div",null,[n("p",{class:"textFonte"},"经历")],-1),n("div",null,[n("p",{class:"subTextFont"},"iOS 开发、前端开发、UI 设计 等"),n("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),n("div",ue,[n("div",ve,[(i(!0),a(k,null,L(s.getSkIconList,l=>(i(),a("div",null,[n("img",{src:`./image/skill/${l.image}`,class:"skillImage",width:l.size,style:f(`margin-right: ${l.marginRight}px;`)},null,12,me)]))),256))],512)],512)]),d(y,{class:"blur",options:g.filterOptions,selected:g.filterType,onFilterChange:s.setFilterType},null,8,["options","selected","onFilterChange"]),d(m,{columnCount:4},{default:u(()=>[(i(!0),a(k,null,L(s.filteredList,l=>(i(),a("div",{key:l.path},[(i(),_(S,{item:l,class:"switchBlur blur",onClick:h=>s.goToPage(l.sub?"sublist":"content",l.path),key:l.path},null,8,["item","onClick"]))]))),128))]),_:1})])],512)}const ye=I(G,[["render",pe],["__scopeId","data-v-c9b622c7"]]);export{ye as default};
