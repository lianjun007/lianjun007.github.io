import{_ as D,u as E,q as H,r as x,c as w,s as P,b as o,d as l,l as F,g as h,w as a,F as B,h as R,f as e,e as m,t as V,T as q,x as y,y as N,z as $,A as J,o as O,B as G}from"./index-CSPcsrkT.js";import{I as S,M as Y,L as I,a as u,_ as z}from"./ListView-ChWfq-C3.js";import{_ as c}from"./SvgIcon-DXSp_k11.js";const K={class:"route-navigation"},Q=["onClick"],U={__name:"BackButton",setup(j){const T=E(),C=H(),d=x([]);T.afterEach(t=>{d.value.findIndex(g=>g.path===t.path)===-1&&d.value.push({path:t.path,meta:t.meta,children:b(t)})});const b=t=>{const s=t.matched;return s.length<2?[]:s[s.length-2].children||[]},k=w(()=>d.value.length>=1||C.path==="/"),v=w(()=>!k.value),p=t=>{T.push(t.path),i()},_=t=>{var s;return((s=t.meta)==null?void 0:s.title)||t.name},f=t=>{var s;return((s=t.meta)==null?void 0:s.icon)||"./image/SF-Symbol/document.svg"},M=t=>{var s;return((s=t.children)==null?void 0:s.length)>0},r=()=>{C.path==="/"?T.push("/"):T.back(),i()},i=()=>{d.value=d.value.filter(t=>t.path!==C.path)},n=w(()=>{const t=C.matched.length;return d.value.filter(s=>{const g=s.path.split("/").length-1;return Math.abs(t-g)<=1})});return(t,s)=>{const g=P("SvgIcon");return o(),l("div",K,[k.value?(o(),F(S,{key:0,icon:"back",main:"返回",color:"var(--themeColor)",onClick:r})):h("",!0),v.value?(o(),F(Y,{key:1,"menu-items":d.value,onSelect:p},{menuList:a(()=>[(o(!0),l(B,null,R(n.value,(L,A)=>(o(),l("div",{key:A,class:"menu-item",onClick:_e=>p(L)},[e(g,{src:f(L)},null,8,["src"]),m("span",null,V(_(L)),1),M(L)?(o(),F(g,{key:0,option:"forward",class:"forward-icon"})):h("",!0)],8,Q))),128))]),default:a(()=>[e(S,{icon:"back",main:"返回",color:"var(--themeColor)"})]),_:1},8,["menu-items"])):h("",!0)])}}},W=D(U,[["__scopeId","data-v-d0d9df80"]]),X={class:"themeContainer"},Z=["onMouseenter","onTouchstart"],ee=["src"],te={class:"themeViewContent"},ne={class:"title"},ae={key:0},se={key:1},oe={key:2},ie={class:"tag"},le={key:0,class:"settingThemeMenu"},re={key:0,class:"settingSystemThemeMenu"},ue={key:1,class:"settingLightOrDarkThemeMenu"},ce={__name:"ThemeCard",emits:["editTheme"],setup(j,{emit:T}){const C=w(()=>{const r=[],i=Object.entries(y);for(const[n,t]of i)if(t.mode==="system"){const s=/url\(['"]?([^'")]+)['"]?\)/,g=t.light.backgroundImage.match(s);r.push({id:n,title:t.name,image:g[1],themeTag:t.mode,tag:["官方"]})}else if(t.mode==="light"){const s=/url\(['"]?([^'")]+)['"]?\)/,g=t.light.backgroundImage.match(s);r.push({id:n,title:t.name,image:g[1],themeTag:t.mode,tag:["官方"]})}else if(t.mode==="dark"){const s=/url\(['"]?([^'")]+)['"]?\)/,g=t.dark.backgroundImage.match(s);r.push({id:n,title:t.name,image:g[1],themeTag:t.mode,tag:["官方"]})}return r}),d=x(-1),b=x(""),k=T;function v(r,i){i?N(r,i):N(r),k("editTheme")}function p(r,i){i?(b.value=i,$(!0,r,i)):$(!0,r)}const _=x(!1);async function f(r){_.value?d.value!==r&&M():(b.value=await J(!0),d.value=r,_.value=!0)}function M(){_.value=!1,d.value=-1,$(!1)}return(r,i)=>(o(),l("div",X,[(o(!0),l(B,null,R(C.value,n=>(o(),l("div",{key:n.id,class:"themeView",onMouseenter:t=>f(n.id),onMouseleave:M,onTouchstart:t=>f(n.id)},[n.image?(o(),l("img",{key:0,src:`${n.image}`},null,8,ee)):h("",!0),m("div",te,[m("p",ne,V(n.title),1),n.sub||n.tag?(o(),l("div",{key:0,class:"tagContainer",ref_for:!0,ref:"tagContainerRef"},[n.themeTag==="dark"?(o(),l("div",ae,[e(c,{size:22,src:"./image/SF-Symbol/moon.stars.svg",color:"rgb(163, 34, 241)"})])):h("",!0),n.themeTag==="light"?(o(),l("div",se,[e(c,{size:22,src:"./image/SF-Symbol/sun.max.svg",color:"rgb(241, 98, 0)"})])):h("",!0),n.themeTag==="system"?(o(),l("div",oe,[e(c,{size:18,src:"./image/SF-Symbol/moonphase.first.quarter.inverse.svg",color:"var(--themeColor)"})])):h("",!0),(o(!0),l(B,null,R(n.tag,t=>(o(),l("div",{key:t},[m("div",ie,V(t),1)]))),128))],512)):h("",!0)]),e(q,{name:"fade"},{default:a(()=>[d.value===n.id?(o(),l("div",le,[n.themeTag==="system"?(o(),l("div",re,[e(S,{main:"设置全部",onClick:t=>v(n.id)},{iconLeft:a(()=>[e(c,{src:"./image/SF-Symbol/theatermask.and.paintbrush.svg"})]),_:2},1032,["onClick"]),i[0]||(i[0]=m("hr",null,null,-1)),e(S,{main:"设置浅色",onClick:t=>v(n.id,"light")},{iconLeft:a(()=>[e(c,{src:"./image/SF-Symbol/sun.max.svg"})]),_:2},1032,["onClick"]),i[1]||(i[1]=m("hr",null,null,-1)),e(S,{main:"设置深色",onClick:t=>v(n.id,"dark")},{iconLeft:a(()=>[e(c,{src:"./image/SF-Symbol/moon.stars.svg"})]),_:2},1032,["onClick"]),i[2]||(i[2]=m("hr",null,null,-1)),b.value==="dark"?(o(),F(S,{key:0,onClick:t=>p(n.id,"light"),main:"预览浅色"},{iconLeft:a(()=>[e(c,{src:"./image/SF-Symbol/sun.max.svg"})]),_:2},1032,["onClick"])):h("",!0),b.value==="light"?(o(),F(S,{key:1,onClick:t=>p(n.id,"dark"),main:"预览深色"},{iconLeft:a(()=>[e(c,{src:"./image/SF-Symbol/moon.stars.svg"})]),_:2},1032,["onClick"])):h("",!0)])):h("",!0),n.themeTag!=="system"?(o(),l("div",ue,[e(S,{main:"设置主题",onClick:t=>v(n.id)},{iconLeft:a(()=>[e(c,{src:"./image/SF-Symbol/theatermask.and.paintbrush.svg"})]),_:2},1032,["onClick"]),i[3]||(i[3]=m("hr",null,null,-1)),e(S,{main:"预览主题",onClick:t=>p(n.id)},{iconLeft:a(()=>[e(c,{src:"./image/SF-Symbol/theatermask.and.paintbrush.svg"})]),_:2},1032,["onClick"])])):h("",!0)])):h("",!0)]),_:2},1024)],40,Z))),128))]))}},me=D(ce,[["__scopeId","data-v-2fb29321"]]),de={ref:"scrollView"},ge={id:"navTop-skList"},he={class:"contentView blur"},ve={__name:"SettingView",setup(j){function T(_){G(_)}const C=w(()=>y[v.value].dark.name?y[v.value].name+" - "+y[v.value].dark.name:y[v.value].name),d=w(()=>y[k.value].light.name?y[k.value].name+" - "+y[k.value].light.name:y[k.value].name),b=x(localStorage.getItem("colorMode")||"system"),k=x(localStorage.getItem("lightTheme")||"1"),v=x(localStorage.getItem("darkTheme")||"2");function p(){b.value=localStorage.getItem("colorMode")||"system",k.value=localStorage.getItem("lightTheme")||"1",v.value=localStorage.getItem("darkTheme")||"2"}return O(()=>{window.addEventListener("storage",_=>{(_.key==="colorMode"||_.key==="lightTheme"||_.key==="darkTheme")&&p()})}),(_,f)=>(o(),l("div",de,[m("nav",ge,[e(W),f[0]||(f[0]=m("div",{id:"navTitle-skList",class:"navHidden"},[m("span",null,"设置")],-1)),f[1]||(f[1]=m("div",null,null,-1))]),m("div",he,[f[2]||(f[2]=m("div",null,[m("h1",{class:"largeTitleFont"},"设置")],-1)),e(I,{header:"外观配置",style:{"z-index":"5"}},{default:a(()=>[e(u,{main:"外观","sub-icon":"down"},{mainIcon:a(()=>[e(c,{size:20,src:"./image/SF-Symbol/theatermask.and.paintbrush.svg"})]),subIcon:a(()=>[e(z,{onSelectChange:T,options:["跟随系统设置","浅色外观","深色外观"],values:["system","light","dark"],style:{"margin-right":"-4px"},"initial-value":b.value},null,8,["initial-value"])]),_:1}),e(u,{main:"浅色外观主题",sub:d.value},{mainIcon:a(()=>[e(c,{size:20,color:"rgb(241, 98, 0)",src:"./image/SF-Symbol/sun.max.svg"})]),_:1},8,["sub"]),e(u,{main:"深色外观主题",sub:C.value},{mainIcon:a(()=>[e(c,{size:20,color:"rgb(163, 34, 241)",src:"./image/SF-Symbol/moon.stars.svg"})]),_:1},8,["sub"])]),_:1}),e(I,{header:"主题选择",footnote:"部分设备上“预览主题“和“设置主题“时，部分样式可能无法直接生效，建议切换主题后刷新。",style:{"z-index":"4"}},{default:a(()=>[e(me,{onEditTheme:p})]),_:1}),e(I,{header:"辅助功能",footnote:"部分设备上可能无法正常设置；在不影响正常使用的情况下，建议关闭“页面缩放“和“文本复制“以获得更好的视觉与交互体验。",style:{"z-index":"5"}},{default:a(()=>[e(u,{main:"页面缩放",sub:"关闭"}),e(u,{main:"文本复制",sub:"阅读页面的文本不受影响","text-module":"column"}),e(u,{main:"安装为应用","sub-icon":"forward"})]),_:1}),e(I,{header:"语言与地区",style:{"z-index":"3"}},{default:a(()=>[e(u,{main:"语言"},{mainIcon:a(()=>[e(c,{src:"./image/SF-Symbol/text.quote.svg"})]),subIcon:a(()=>[e(z,{options:["中文"],values:["chinese"],style:{"margin-right":"-4px"}})]),_:1}),e(u,{main:"时区"},{mainIcon:a(()=>[e(c,{src:"./image/SF-Symbol/globe.asia.australia.svg"})]),subIcon:a(()=>[e(z,{options:["北京时区"],values:["beijin"],style:{"margin-right":"-4px"}})]),_:1})]),_:1}),e(I,{header:"关于言叶",style:{"z-index":"2"}},{default:a(()=>[e(u,{main:"版本号",sub:"demo 0.1"}),e(u,{main:"发行日期",sub:"2025年3月20日"}),e(u,{main:"项目主页",sub:"LianJun > 项目 > 言叶","sub-icon":"subForward"}),e(u,{main:"GitHub 主页",sub:"lianjun007/YanPage","sub-icon":"subForward"}),e(u,{main:"问题反馈",sub:"lianjun.new@outlook.com","sub-icon":"subForward"})]),_:1}),e(I,{style:{"z-index":"1"}},{default:a(()=>[e(u,{main:"作者主页",sub:"LianJun","sub-icon":"subForward"}),e(u,{main:"感谢项目",sub:"3 个","sub-icon":"subForward"})]),_:1})])],512))}},pe=D(ve,[["__scopeId","data-v-b36af5ed"]]);export{pe as default};
