import{_ as $,r as m,o as D,n as E,a as _,b as i,c as a,d as C,e as t,f as d,w as c,g,h as b,T as j,i as w,F as h,j as k,k as B,t as T}from"./index-DB4fhkwH.js";import{S as P,W as R,C as M}from"./CardView-gb9kWrH1.js";import"./function-aY7JZtoC.js";const H={name:"DropdownMenu",props:{position:{type:Array,default:[20,5,0,0]},selectRadius:{type:Number,default:5}},setup(n){const e=m(n.position[0]),r=m(n.position[1]),p=m(n.position[2]),y=m(n.position[3]),l=m(!1),o=m(null),v=()=>{l.value=!0;const s=o.value.parentNode;s&&s.classList.contains("dropDownList")?o.value.classList.add("subSelectBackground"):(o.value.classList.add("selectBackground"),o.value.style.borderRadius=n.selectRadius+"px"),E(()=>{const u=o.value.querySelector(".menuContainer .dropDownList");u&&L(u)})},f=s=>{o.value.contains(s.target)||(l.value=!1,o.value.classList.remove("selectBackground","subSelectBackground"))},L=s=>{const u=Array.from(s.children);for(let S=u.length-1;S>0;S--){const I=u[S],F=u[S-1];if(I.tagName==="DIV"&&F.tagName==="DIV"){const x=document.createElement("hr");x.className="menuHr",s.insertBefore(x,I)}}};return D(()=>{E(()=>{document.addEventListener("click",f)})}),_(()=>{document.removeEventListener("click",f)}),{isOpen:l,openDropdown:v,dropdownRef:o,top:e,right:r,bottom:p,left:y}},methods:{getDynamicStyle(){const n={};return this.top!==0&&(n.top=`${this.top}px`),this.right!==0&&(n.right=`${this.right}px`),this.bottom!==0&&(n.bottom=`${this.bottom}px`),this.left!==0&&(n.left=`${this.left}px`),n}}},N={class:"menuContainer"};function V(n,e,r,p,y,l){return i(),a("div",{ref:"dropdownRef",onClick:e[0]||(e[0]=(...o)=>p.openDropdown&&p.openDropdown(...o)),style:{"z-index":"1"}},[C(n.$slots,"default",{},void 0),t("div",N,[d(j,{name:"fade"},{default:c(()=>[p.isOpen?(i(),a("div",{key:0,class:"dropDownList",style:g(l.getDynamicStyle())},[C(n.$slots,"menuList",{},void 0,!0)],4)):b("",!0)]),_:3})])],512)}const q=$(H,[["render",V],["__scopeId","data-v-3886130a"]]);function A(n,e){n>e?(document.getElementById("navTop").classList.add("navBackground","navBackgroundDivider"),document.getElementById("navTitle").classList.add("navShow"),document.getElementById("navTitle").classList.remove("navHidden"),document.querySelector(".contentBackground").classList.add("backgroundBlur"),document.querySelectorAll(".blur").forEach(r=>{r.classList.remove("blur"),r.classList.add("unblur")})):(document.getElementById("navTop").classList.remove("navBackground","navBackgroundDivider"),document.getElementById("navTitle").classList.remove("navShow"),document.getElementById("navTitle").classList.add("navHidden"),document.querySelector(".contentBackground").classList.remove("backgroundBlur"),document.querySelectorAll(".unblur").forEach(r=>{r.classList.add("blur"),r.classList.remove("unblur")})),n>e+80?(document.getElementById("navLeft").classList.remove("navHidden"),document.getElementById("navLeft").classList.add("navShow"),document.getElementById("navRight").classList.remove("navHidden"),document.getElementById("navRight").classList.add("navShow")):(document.getElementById("navLeft").classList.remove("navShow"),document.getElementById("navLeft").classList.add("navHidden"),document.getElementById("navRight").classList.remove("navShow"),document.getElementById("navRight").classList.add("navHidden")),n>e+250?(document.querySelector(".navBar").classList.add("navBarTop","navBackgroundDivider"),document.getElementById("navTop").classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","88px")):(document.querySelector(".navBar").classList.remove("navBarTop","navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","44px"),n>e&&document.getElementById("navTop").classList.add("navBackgroundDivider"))}const W={components:{Dropdown:q,SvgIcon:P,Waterfall:R,CardView:M},data(){return{intervalId:null,intervalCount:0,myInfoList:[],linkList:[],skIconList:[],filterType:"all",lastWidth:0}},setup(){const n=m(null),e=m(325);function r(){A(n.value.scrollTop,e.value)}const p=m(!1),y=m(null),l=m(null);let o=0,v=.2;function f(){if(l.value){o-=v;const u=l.value.offsetWidth;Math.abs(o)>=u/2&&(o=0),l.value.style.transform=`translateX(${o}px)`,requestAnimationFrame(f)}}const L=()=>{v=0},s=()=>{v=.2};return D(()=>{n.value&&n.value.addEventListener("scroll",r),l.value&&f(),l.value&&(l.value.addEventListener("mouseenter",L),l.value.addEventListener("mouseleave",s))}),_(()=>{n.value&&n.value.removeEventListener("scroll",r)}),{isScrolled:p,scrollView:n,skillScollRow:y,skillScollContainer:l,skillScollRow:y,skillScollContainer:l,showNavTopPara:e}},mounted(){this.$route.path==="/"?(this.showNavTopPara=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(this.showNavTopPara=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px")),this.fetchData(),this.fetchContentData()},computed:{filteredList(){return this.filterType==="all"?this.myInfoList:this.myInfoList.filter(n=>n.type===this.filterType)},getlinkList(){return this.linkList},getSkIconList(){return this.skIconList}},watch:{$route(n,e){n.path==="/"?(this.showNavTopPara=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(this.showNavTopPara=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px"))}},methods:{openLink(n){n.startsWith("mailto:")?location.assign(n):window.open(n,"_blank")},goToPage(n,e){e?this.$router.push({name:n,query:{path:e}}):this.$router.push({name:n})},setFilterType(n){this.filterType=n},fetchContentData(){fetch("./json/index.json").then(n=>n.json()).then(n=>{Object.keys(n).forEach(r=>{this.myInfoList.push(...n[r].slice(1).map(p=>({...p,type:n[r][0]})))})})},fetchData(){fetch("./json/link.json").then(n=>n.json()).then(n=>{this.linkList=n}),fetch("./json/skIcon.json").then(n=>n.json()).then(n=>{this.skIconList=n})}}},O={ref:"scrollView"},z={id:"navTop"},J=["onClick"],U=["src","title"],X=["onClick"],G=["src","title"],K={class:"contentView"},Q={class:"profilePhotoModule"},Y={class:"linkAndSetting"},Z={class:"blur"},ee=["href"],te=["src","title"],ne=["onClick"],se=["src","title"],le={class:"list blur"},oe={class:"skillScollRow",ref:"skillScollRow",style:{overflow:"hidden"}},ie={class:"scrollView",ref:"skillScollContainer",style:{display:"flex",gap:"5px","align-items":"center",padding:"0 16px"}},ae=["src","width"],re={class:"navBar"};function de(n,e,r,p,y,l){const o=B("SvgIcon"),v=B("Dropdown"),f=B("CardView"),L=B("Waterfall");return i(),a("div",O,[t("nav",z,[n.$route.name!=="lianjun"?(i(),a("div",{key:0,id:"navLeft",class:"navHidden",onClick:e[0]||(e[0]=s=>l.goToPage("lianjun"))},[d(o,{src:"./image/SF-Symbol/house.svg"}),e[7]||(e[7]=t("span",null,"主页",-1))])):b("",!0),n.$route.name==="lianjun"?(i(),w(v,{key:1,id:"navLeft",class:"navHidden",position:[20,0,0,-60]},{menuList:c(()=>[(i(!0),a(h,null,k(l.getlinkList,s=>(i(),a("div",{onClick:u=>l.openLink(s.link)},[t("div",null,[t("img",{src:`./image/link/${s.image}`,title:s.name,style:g(`width: 23px; height: 23px; padding: ${s.padding}px;`)},null,12,U),t("span",{style:g(`color: ${s.color};`)},T(s.name),5)]),d(o,{src:"./image/SF-Symbol/link.svg",color:s.color},null,8,["color"])],8,J))),256))]),default:c(()=>[d(o,{src:"./image/SF-Symbol/phone.svg"}),e[8]||(e[8]=t("span",null,"联系",-1))]),_:1})):b("",!0),e[12]||(e[12]=t("div",{id:"navTitle",class:"navHidden"},[t("img",{src:"./image/lianjun.png"}),t("span",null,"LianJun")],-1)),d(v,{id:"navRight",class:"navHidden"},{menuList:c(()=>[t("div",null,[d(o,{src:"./image/SF-Symbol/gearshape.svg"}),e[9]||(e[9]=t("span",null,"设置",-1))]),n.$route.name!=="lianjun"?(i(),w(v,{key:0},{menuList:c(()=>[(i(!0),a(h,null,k(l.getlinkList,s=>(i(),a("div",{onClick:u=>l.openLink(s.link)},[t("div",null,[t("img",{src:`./image/link/${s.image}`,title:s.name,style:g(`width: 23px; height: 23px; padding: ${s.padding}px;`)},null,12,G),t("span",{style:g(`color: ${s.color};`)},T(s.name),5)]),d(o,{src:"./image/SF-Symbol/link.svg",color:s.color},null,8,["color"])],8,X))),256))]),default:c(()=>[d(o,{src:"./image/SF-Symbol/phone.svg"}),e[10]||(e[10]=t("span",null,"联系",-1))]),_:1})):b("",!0)]),default:c(()=>[d(o,{src:"./image/SF-Symbol/list.bullet.svg"}),e[11]||(e[11]=t("span",null,"功能",-1))]),_:1})]),t("div",K,[e[21]||(e[21]=t("div",{class:"contentBackground"},null,-1)),t("div",Q,[e[17]||(e[17]=t("div",null,[t("img",{src:"./image/lianjun.png"}),t("p",null,"LianJun")],-1)),t("div",Y,[(i(!0),a(h,null,k(l.getlinkList,s=>(i(),a("div",null,[t("div",Z,[t("a",{href:s.link,target:"_blank"},[t("img",{src:`./image/link/${s.image}`,title:s.name,style:g(`padding: ${s.padding}px;`)},null,12,te)],8,ee)])]))),256)),e[16]||(e[16]=t("div",{class:"divider blur"},null,-1)),d(v,{selectRadius:8},{menuList:c(()=>[t("div",null,[d(o,{src:"./image/SF-Symbol/gearshape.svg"}),e[13]||(e[13]=t("span",null,"设置",-1))]),d(v,null,{menuList:c(()=>[(i(!0),a(h,null,k(l.getlinkList,s=>(i(),a("div",{onClick:u=>l.openLink(s.link)},[t("img",{src:`./image/link/${s.image}`,title:s.name,style:g(`width: 23px; height: 23px; padding: ${s.padding}px;`)},null,12,se),t("div",null,[t("span",{style:g(`color: ${s.color};`)},T(s.name),5),d(o,{src:"./image/SF-Symbol/link.svg",color:s.color},null,8,["color"])])],8,ne))),256))]),default:c(()=>[d(o,{src:"./image/SF-Symbol/phone.svg"}),e[14]||(e[14]=t("span",null,"联系",-1))]),_:1})]),default:c(()=>[e[15]||(e[15]=t("div",{class:"blur"},[t("img",{class:"linkButtonImage",src:"./image/link/setting.png",title:"设置",style:{padding:"4px"}})],-1))]),_:1})])]),t("div",le,[t("div",{class:"listRow",onClick:e[1]||(e[1]=s=>l.goToPage("sklist"))},e[18]||(e[18]=[t("div",null,[t("p",{class:"textFonte"},"简介")],-1),t("div",null,[t("p",{class:"subTextFont"},"喜欢研究 UI 的独立开发者"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),e[20]||(e[20]=t("hr",{class:"listHr"},null,-1)),t("div",{class:"listRow",onClick:e[2]||(e[2]=s=>l.goToPage("sklist"))},e[19]||(e[19]=[t("div",null,[t("p",{class:"textFonte"},"经历")],-1),t("div",null,[t("p",{class:"subTextFont"},"iOS 开发、前端开发、UI 设计 等"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),t("div",oe,[t("div",ie,[(i(!0),a(h,null,k(l.getSkIconList,s=>(i(),a("div",null,[t("img",{src:`./image/skill/${s.image}`,class:"skillImage",width:s.size,style:g(`margin-right: ${s.marginRight}px;`)},null,12,ae)]))),256))],512)],512)]),t("nav",re,[t("div",null,[t("span",{id:"all",onClick:e[3]||(e[3]=s=>l.setFilterType("all"))},"全部"),t("span",{id:"project",onClick:e[4]||(e[4]=s=>l.setFilterType("project"))},"项目"),t("span",{id:"video",onClick:e[5]||(e[5]=s=>l.setFilterType("video"))},"视频"),t("span",{id:"essay",onClick:e[6]||(e[6]=s=>l.setFilterType("essay"))},"文章")])]),d(L,{columnCount:4},{default:c(()=>[(i(!0),a(h,null,k(l.filteredList,s=>(i(),a("div",{key:s.path},[(i(),w(f,{item:s,class:"blur",onClick:u=>l.goToPage(s.sub?"sublist":"content",s.path),key:s.path},null,8,["item","onClick"]))]))),128))]),_:1})])],512)}const me=$(W,[["render",de],["__scopeId","data-v-6d4ca12b"]]);export{me as default};
