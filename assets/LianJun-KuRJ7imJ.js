import{_ as J,c as V,r as v,w as Z,o as W,a as K,b as s,d as i,e as Q,f as t,g,h as L,n as b,i as P,T as te,j as ee,F as T,k as F,t as O,l as A,m as le,p as X,u as ne}from"./index-tEH5YpEv.js";import{_ as $,W as se,C as oe}from"./CardView-B6lg5Rhg.js";import"./function-aY7JZtoC.js";const ae={class:"menuContainer"},ie={__name:"MultilevelMenu",props:{position:{type:Array,default:()=>[20,5,0,0]},selectRadius:{type:Number,default:5}},emits:["isOpen"],setup(I,{emit:R}){const m=I,x=V(()=>{const o={};return m.position[0]!==0&&(o.top=`${m.position[0]}px`),m.position[1]!==0&&(o.right=`${m.position[1]}px`),m.position[2]!==0&&(o.bottom=`${m.position[2]}px`),m.position[3]!==0&&(o.left=`${m.position[3]}px`),o}),f=v(!1),h=R;Z(f,()=>{h("isOpen",f.value)});function c(){const o=y.value.querySelector(".menuContainer .multilevelMenuList"),u=Array.from(o.children);for(let B=u.length-1;B>0;B--){const C=u[B],E=u[B-1];if(C.tagName==="DIV"&&E.tagName==="DIV"){const j=document.createElement("hr");j.className="menuHr",o.insertBefore(j,C)}}}const r=v(!1),y=v(null),k=v(!1);function S(o){o&&(console.log(o),r.value=!0),f.value=!0,k.value=!0;const u=y.value.parentNode;u&&u.classList.contains("multilevelMenuList")?y.value.classList.add("subSelectedBackground"):(y.value.classList.add("selectedBackground"),y.value.style.borderRadius=`${m.selectRadius}px`),ee(()=>{c()})}function p(o){console.log([r.value,!y.value.contains(o.target)],[!r.value,y.value.contains(o.target)]),r.value&&!y.value.contains(o.target)?(u(),r.value=!1):!r.value&&y.value.contains(o.target)&&u();function u(){k.value=!1,setInterval(()=>{k.value||(f.value=!1,y.value.classList.remove("selectedBackground","subSelectedBackground"),h("isOpen",f))},300)}}return W(()=>{document.addEventListener("click",p)}),K(()=>{document.removeEventListener("click",p)}),(o,u)=>(s(),i("div",{ref_key:"multilevelMenu",ref:y,onTouchend:u[0]||(u[0]=B=>S(!0)),onClick:u[1]||(u[1]=B=>S(!0)),onMouseenter:u[2]||(u[2]=B=>S(!1)),onMouseleave:p,style:{"z-index":"1"}},[Q(o.$slots,"default",{},void 0),t("div",ae,[g(te,{name:"fade"},{default:L(()=>[f.value?(s(),i("div",{key:0,class:"multilevelMenuList",style:b(x.value)},[Q(o.$slots,"menuList",{},void 0,!0)],4)):P("",!0)]),_:3})])],544))}},z=J(ie,[["__scopeId","data-v-f230359e"]]),ue=["onClick","value"],re={__name:"SelectButton",props:{options:{type:Array,required:!0},values:{type:Array,required:!1},color:{type:String,default:"var(--subTextColor)"}},emits:["select-change"],setup(I,{emit:R}){const m=I,x=R,f=k=>{x("select-change",k.target.value)},h=v(null),c=v(null),r=v(null),y=V(()=>{const k=m.values||m.options;return m.options.map((S,p)=>({label:S,value:k[p]}))});return W(()=>{h.value&&c.value&&r.value&&(h.value.style.width=`${c.value.getBoundingClientRect().width}px`,h.value.style.height=`${c.value.getBoundingClientRect().height}px`,c.value.style.color=m.color,c.value.style.top="0px",c.value.style.left="0px",r.value.$el.style.right="0px",r.value.$el.style.top=`${(h.value.getBoundingClientRect().height-r.value.$el.getBoundingClientRect().height)/2}px`)}),(k,S)=>(s(),i("div",{ref_key:"selectButton",ref:h},[t("select",{ref_key:"select",ref:c,onChange:f},[(s(!0),i(T,null,F(y.value,p=>(s(),i("option",{onClick:o=>f(p.value),key:p.label,value:p.value},O(p.label),9,ue))),128))],544),g($,{ref_key:"icon",ref:r,size:[12,12],color:m.color,src:"./image/SF-Symbol/chevron.up.chevron.down.svg"},null,8,["color"])],512))}},Y=J(re,[["__scopeId","data-v-d0cc9f43"]]),de={key:0,class:"buttonDivider"},ve=["onClick"],ce={__name:"NavBar",props:{options:{type:Array,required:!0},selected:{type:String,default:""},haveSearch:{type:Boolean,default:!0}},emits:["filter-change"],setup(I,{emit:R}){const m=I,x=v(!1),f=v(!1),h=v(!1),c=v(null),r=v(null),y=v(null),k=v(null),S=R,p=d=>{S("filter-change",d)},o=V(()=>[...m.options.map(({label:d})=>d)]),u=V(()=>[...m.options.map(({value:d})=>d)]),B=d=>{x.value=d};let C=null;function E(d=!1){if(!c.value||!r.value||!k.value||!y.value)return;const a=c.value.getBoundingClientRect(),w=r.value.getBoundingClientRect();C||(C=k.value.getBoundingClientRect());const D=y.value.getBoundingClientRect();let _=w.right-a.left,q=a.right-D.left,n=a.width-_-q;d&&f.value?(n+=60,_-=10,q-=10,a.width+=40):d&&!f.value&&(n-=60,_+=10,q+=10,a.width-=40),j(n<150,d),!h.value&&(C.width<n?(k.value.style.left=`${(a.width-C.width)/2}px`,k.value.style.width=`${C.width}px`):(k.value.style.left=`${_}px`,k.value.style.width=`${n}px`))}function j(d,a){d!==h.value&&(h.value=d,ee(()=>{E(a)}))}let H=new MutationObserver(()=>{if(c.value){const d=c.value.getBoundingClientRect().top;43.99<=d&&d<=44?U(!0):U(!1)}});function U(d){f.value!==d&&(f.value=d,E(!0))}return W(()=>{H&&c.value&&H.observe(c.value,{attributes:!0,attributeFilter:["class"]}),k.value&&(E(),window.addEventListener("resize",()=>{E()}))}),K(()=>{H&&H.disconnect()}),(d,a)=>(s(),i("div",{ref_key:"navBar",ref:c,class:X(["navBar",{navBarTop:f.value}])},[t("div",{ref_key:"searchButton",ref:r,class:"searchButton",style:b(`left: ${f.value?"10px":"20px"};`),onMouseenter:a[0]||(a[0]=w=>B(!0)),onMouseleave:a[1]||(a[1]=w=>B(!1)),onMousedown:a[2]||(a[2]=w=>d.handlePress(!0)),onMouseup:a[3]||(a[3]=w=>d.handlePress(!1)),onTouchstart:a[4]||(a[4]=w=>B(!0)),onTouchend:a[5]||(a[5]=w=>B(!1)),onTouchcancel:a[6]||(a[6]=w=>B(!1))},[x.value?P("",!0):(s(),A($,{key:0,color:"#000000",size:[18,16],src:"./image/SF-Symbol/magnifyingglass.svg"})),x.value?(s(),A($,{key:1,size:[16,16],src:"./image/SF-Symbol/magnifyingglass-bold.svg"})):P("",!0),a[7]||(a[7]=le(" 搜索 "))],36),h.value?P("",!0):(s(),i("div",{key:0,ref_key:"optionContainer",ref:k,class:"optionContainer",title:"按 Shift 可横向滚动"},[(s(!0),i(T,null,F(I.options,(w,D)=>(s(),i(T,{key:w.value},[D!==0?(s(),i("div",de)):P("",!0),t("div",{class:X(["optionButton",{active:I.selected===w.value}]),onClick:_=>p(w.value)},O(w.label),11,ve)],64))),128))],512)),h.value?(s(),i("div",{key:1,ref_key:"optionContainer",ref:k,class:"optionSelectButton"},[g(Y,{color:"var(--themeColor)",options:o.value,values:u.value,onSelectChange:p},null,8,["options","values"])],512)):P("",!0),t("div",{ref_key:"sortButton",ref:y,class:"sortButton",style:b(`right: ${f.value?"10px":"20px"};`)},[g(Y,{options:["时间增序","时间降序","热度增序","热度降序"]})],4)],2))}},pe=J(ce,[["__scopeId","data-v-8131f385"]]),ge={id:"navTop"},me=["onClick"],fe=["src","title"],ye=["onClick"],ke=["src","title"],he={class:"contentView"},Se={class:"profilePhotoModule"},we={class:"linkAndSetting"},Be={class:"switchBlur blur"},$e=["href"],Le=["src","title"],be=["onClick"],xe=["src","title"],Ce={class:"list switchBlur blur"},Me=["src","width","title"],Re=["src","width","title"],_e={__name:"LianJun",setup(I){const R=ne(),m=v([{label:"全部",value:"all"},{label:"项目",value:"project"},{label:"视频",value:"video"},{label:"文章",value:"essay"}]),x=v([]),f=v([]),h=v([]),c=v("all"),r=v(325),y=v(90);function k(n){y.value=n?-90:90}const S=v(null),p=v(null),o=v(null),u=v(null),B=n=>{const l=document.getElementById("navTop"),e=document.getElementById("navTitle"),M=document.getElementById("navLeft"),N=document.getElementById("navRight");n>r.value?(l.classList.add("navBackground","navBackgroundDivider"),e.classList.add("navShow"),e.classList.remove("navHidden"),document.querySelectorAll(".switchBlur").forEach(G=>{G.classList.remove("blur")}),document.querySelector(".contentBackground").classList.add("blur")):(l.classList.remove("navBackground","navBackgroundDivider"),e.classList.remove("navShow"),e.classList.add("navHidden"),document.querySelectorAll(".switchBlur").forEach(G=>{G.classList.add("blur")}),document.querySelector(".contentBackground").classList.remove("blur")),n>r.value+80?(M.classList.remove("navHidden"),M.classList.add("navShow"),N.classList.remove("navHidden"),N.classList.add("navShow")):(M.classList.remove("navShow"),M.classList.add("navHidden"),N.classList.remove("navShow"),N.classList.add("navHidden")),n>r.value+250?(document.querySelector(".navBar").classList.add("navBackgroundDivider"),l.classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","88px")):(document.querySelector(".navBar").classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","44px"),n>r.value&&l.classList.add("navBackgroundDivider"))},C=()=>{S.value&&B(S.value.scrollTop)},E=()=>{o.value&&u.value&&(o.value.style.animationPlayState="paused",u.value.style.animationPlayState="paused")},j=()=>{o.value&&u.value&&(o.value.style.animationPlayState="running",u.value.style.animationPlayState="running")},H=async()=>{try{const l=await(await fetch("./json/index.json")).json(),e=Object.keys(l);x.value=e.flatMap(M=>l[M].slice(1).map(N=>({...N,type:l[M][0]})))}catch(n){console.error("Error fetching content data:",n)}},U=async()=>{try{const[n,l]=await Promise.all([fetch("./json/link.json"),fetch("./json/skIcon.json")]);f.value=await n.json(),h.value=await l.json()}catch(n){console.error("Error fetching data:",n)}},d=V(()=>c.value==="all"?x.value:x.value.filter(n=>n.type===c.value)),a=V(()=>f.value),w=V(()=>h.value),D=n=>{n.startsWith("mailto:")?location.assign(n):window.open(n,"_blank")},_=(n,l)=>{l?R.push({name:n,query:{path:l}}):R.push({name:n})},q=n=>{c.value=n};return W(()=>{S.value&&S.value.addEventListener("scroll",C),p.value&&(p.value.addEventListener("mouseenter",E),p.value.addEventListener("mouseleave",j)),setTimeout(()=>{o.value.style.animationPlayState="paused",u.value.style.animationPlayState="paused",setTimeout(()=>{o.value.style.animationPlayState="running",u.value.style.animationPlayState="running"},1e3)},100),R.path==="/"?(r.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(r.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px")),U(),H()}),K(()=>{S.value&&S.value.removeEventListener("scroll",C),p.value&&(p.value.removeEventListener("mouseenter",E),p.value.removeEventListener("mouseleave",j))}),Z(()=>R.path,n=>{n==="/"?(r.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(r.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px"))}),(n,l)=>(s(),i("div",{ref_key:"scrollView",ref:S},[t("nav",ge,[n.$route.name!=="lianjun"?(s(),i("div",{key:0,id:"navLeft",class:"navHidden",onClick:l[0]||(l[0]=e=>_("lianjun"))},[g($,{src:"./image/SF-Symbol/house.svg"}),l[3]||(l[3]=t("span",null,"主页",-1))])):P("",!0),n.$route.name==="lianjun"?(s(),A(z,{key:1,id:"navLeft",class:"navHidden",position:[20,0,0,-60]},{menuList:L(()=>[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{onClick:M=>D(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:b(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,fe),t("span",{style:b(`color: ${e.color};`)},O(e.name),5)]),g($,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,me))),128))]),default:L(()=>[g($,{src:"./image/SF-Symbol/phone.svg"}),l[4]||(l[4]=t("span",null,"联系",-1))]),_:1})):P("",!0),l[8]||(l[8]=t("div",{id:"navTitle",class:"navHidden"},[t("img",{src:"./image/lianjun.png"}),t("span",null,"LianJun")],-1)),g(z,{id:"navRight",class:"navHidden"},{menuList:L(()=>[t("div",null,[t("div",null,[g($,{src:"./image/SF-Symbol/gearshape.svg"}),l[5]||(l[5]=t("span",null,"设置",-1))]),g($,{size:14,src:"./image/SF-Symbol/chevron.svg"})]),n.$route.name!=="lianjun"?(s(),A(z,{key:0,onIsOpen:k},{menuList:L(()=>[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{onClick:M=>D(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:b(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,ke),t("span",{style:b(`color: ${e.color};`)},O(e.name),5)]),g($,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,ye))),128))]),default:L(()=>[t("div",null,[g($,{src:"./image/SF-Symbol/phone.svg"}),l[6]||(l[6]=t("span",null,"联系",-1))]),g($,{rotate:y.value,size:[14,11],src:"./image/SF-Symbol/chevron.svg"},null,8,["rotate"])]),_:1})):P("",!0)]),default:L(()=>[g($,{src:"./image/SF-Symbol/list.bullet.svg"}),l[7]||(l[7]=t("span",null,"功能",-1))]),_:1})]),t("div",he,[l[17]||(l[17]=t("div",{class:"contentBackground"},null,-1)),t("div",Se,[l[13]||(l[13]=t("div",null,[t("img",{src:"./image/lianjun.png"}),t("p",null,"LianJun")],-1)),t("div",we,[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{key:e.id},[t("div",Be,[t("a",{href:e.link,target:"_blank"},[t("img",{src:`./image/link/${e.image}`,title:e.name,style:b(`padding: ${e.padding}px;`)},null,12,Le)],8,$e)])]))),128)),l[12]||(l[12]=t("div",{class:"divider blur"},null,-1)),g(z,{selectRadius:8,position:[10,0,0,-75]},{menuList:L(()=>[t("div",null,[g($,{src:"./image/SF-Symbol/gearshape.svg"}),l[9]||(l[9]=t("span",null,"设置",-1))]),g(z,null,{menuList:L(()=>[(s(!0),i(T,null,F(a.value,e=>(s(),i("div",{onClick:M=>D(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:b(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,xe),t("span",{style:b(`color: ${e.color};`)},O(e.name),5)]),g($,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,be))),128))]),default:L(()=>[g($,{src:"./image/SF-Symbol/phone.svg"}),l[10]||(l[10]=t("span",null,"联系",-1))]),_:1})]),default:L(()=>[l[11]||(l[11]=t("div",{class:"switchBlur blur"},[t("img",{class:"linkButtonImage",src:"./image/link/setting.png",title:"设置",style:{padding:"4px"}})],-1))]),_:1})])]),t("div",Ce,[t("div",{class:"listRow",onClick:l[1]||(l[1]=e=>_("sklist"))},l[14]||(l[14]=[t("div",null,[t("p",{class:"textFonte"},"简介")],-1),t("div",null,[t("p",{class:"subTextFont"},"喜欢研究 UI 的独立开发者"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),l[16]||(l[16]=t("hr",{class:"listHr"},null,-1)),t("div",{class:"listRow",onClick:l[2]||(l[2]=e=>_("sklist"))},l[15]||(l[15]=[t("div",null,[t("p",{class:"textFonte"},"经历")],-1),t("div",null,[t("p",{class:"subTextFont"},"iOS 开发、前端开发、UI 设计 等"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),t("div",{class:"skillScrollRow",ref_key:"skillScrollRow",ref:p},[t("div",{class:"scrollView",ref_key:"skillScrollSubRow1",ref:o},[(s(!0),i(T,null,F(w.value,e=>(s(),i("div",{key:e.id},[t("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:b(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,Me)]))),128))],512),t("div",{class:"scrollView",ref_key:"skillScrollSubRow2",ref:u},[(s(!0),i(T,null,F(w.value,e=>(s(),i("div",{key:e.id},[t("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:b(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,Re)]))),128))],512)],512)]),g(pe,{class:"blur",options:m.value,selected:c.value,onFilterChange:q},null,8,["options","selected"]),g(se,{columnCount:4},{default:L(()=>[(s(!0),i(T,null,F(d.value,e=>(s(),i("div",{key:e.path},[(s(),A(oe,{item:e,class:"switchBlur blur",onClick:M=>_(e.sub?"sublist":"content",e.path),key:e.path},null,8,["item","onClick"]))]))),128))]),_:1})])],512))}},Pe=J(_e,[["__scopeId","data-v-7021a057"]]);export{Pe as default};
