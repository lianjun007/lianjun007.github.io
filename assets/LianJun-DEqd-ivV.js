import{_ as A,r as u,o as O,n as W,a as G,b as s,c as i,d as K,e as t,f,w as B,g as L,h as D,T as Y,i as V,F as R,j as E,t as q,k as z,l as Z,m as Q,p as ee,u as te}from"./index-C4FbMClA.js";import{_ as b,W as ne,C as le}from"./CardView-CRSo6A_5.js";import"./function-aY7JZtoC.js";const se={name:"DropdownMenu",props:{position:{type:Array,default:()=>[20,5,0,0]},selectRadius:{type:Number,default:5}},setup(v){const w=u(v.position[0]),$=u(v.position[1]),S=u(v.position[2]),h=u(v.position[3]),g=u(!1),o=u(null),p=()=>{g.value=!0;const m=o.value.parentNode;m&&m.classList.contains("dropDownList")?o.value.classList.add("subSelectBackground"):(o.value.classList.add("selectBackground"),o.value.style.borderRadius=v.selectRadius+"px"),W(()=>{const c=o.value.querySelector(".menuContainer .dropDownList");c&&d(c)})},k=m=>{o.value.contains(m.target)||(g.value=!1,o.value.classList.remove("selectBackground","subSelectBackground"))},d=m=>{const c=Array.from(m.children);for(let T=c.length-1;T>0;T--){const F=c[T],_=c[T-1];if(F.tagName==="DIV"&&_.tagName==="DIV"){const x=document.createElement("hr");x.className="menuHr",m.insertBefore(x,F)}}};return O(()=>{W(()=>{document.addEventListener("click",k)})}),G(()=>{document.removeEventListener("click",k)}),{isOpen:g,openDropdown:p,dropdownRef:o,top:w,right:$,bottom:S,left:h}},methods:{getDynamicStyle(){const v={};return this.top!==0&&(v.top=`${this.top}px`),this.right!==0&&(v.right=`${this.right}px`),this.bottom!==0&&(v.bottom=`${this.bottom}px`),this.left!==0&&(v.left=`${this.left}px`),v}}},oe={class:"menuContainer"};function ae(v,w,$,S,h,g){return s(),i("div",{ref:"dropdownRef",onClick:w[0]||(w[0]=(...o)=>S.openDropdown&&S.openDropdown(...o)),style:{"z-index":"1"}},[K(v.$slots,"default",{},void 0),t("div",oe,[f(Y,{name:"fade"},{default:B(()=>[S.isOpen?(s(),i("div",{key:0,class:"dropDownList",style:L(g.getDynamicStyle())},[K(v.$slots,"menuList",{},void 0,!0)],4)):D("",!0)]),_:3})])],512)}const N=A(se,[["render",ae],["__scopeId","data-v-1ad57de2"]]),ie=["onClick","value"],re={__name:"SelectButton",props:{options:{type:Array,required:!0},values:{type:Array,required:!1}},emits:["select-change"],setup(v,{emit:w}){const $=v,S=w,h=d=>{S("select-change",d.target.value)},g=u(null),o=u(null),p=u(null),k=V(()=>{const d=$.values||$.options;return $.options.map((m,c)=>({label:m,value:d[c]}))});return O(()=>{g.value&&o.value&&p.value&&(g.value.style.width=`${o.value.getBoundingClientRect().width}px`,g.value.style.height=`${o.value.getBoundingClientRect().height}px`,o.value.style.top="0px",o.value.style.left="0px",p.value.$el.style.right="0px",p.value.$el.style.top=`${(g.value.getBoundingClientRect().height-p.value.$el.getBoundingClientRect().height)/2}px`,console.log("fnuuio",p.value.$el.style.top))}),(d,m)=>(s(),i("div",{ref_key:"selectButton",ref:g},[t("select",{ref_key:"select",ref:o,onChange:h},[(s(!0),i(R,null,E(k.value,c=>(s(),i("option",{onClick:T=>h(c.value),key:c.label,value:c.value},q(c.label),9,ie))),128))],544),f(b,{ref_key:"icon",ref:p,size:[12,12],color:"var(--subTextColor)",src:"./image/SF-Symbol/chevron.up.chevron.down.svg"},null,512)],512))}},X=A(re,[["__scopeId","data-v-9f88cf9e"]]),ue={key:0,class:"buttonDivider"},de=["onClick"],ce={__name:"NavBar",props:{options:{type:Array,required:!0},selected:{type:String,default:""},haveSearch:{type:Boolean,default:!0}},emits:["filter-change"],setup(v,{emit:w}){const $=v,S=u(!1),h=u(!1),g=u(!1),o=u(null),p=u(null),k=u(null),d=u(null),m=w,c=r=>{m("filter-change",r)},T=V(()=>[...$.options.map(({label:r})=>r)]),F=V(()=>[...$.options.map(({value:r})=>r)]),_=r=>{S.value=r};let x=null;function M(r=!1){if(!o.value||!p.value||!d.value||!k.value)return;const a=o.value.getBoundingClientRect(),y=p.value.getBoundingClientRect();x||(x=d.value.getBoundingClientRect());const H=k.value.getBoundingClientRect();let l=y.right-a.left,n=a.right-H.left,e=a.width-l-n;r&&h.value?(e+=60,l-=10,n-=10,a.width+=40):r&&!h.value&&(e-=60,l+=10,n+=10,a.width-=40),U(e<150,r),!g.value&&(x.width<e?(d.value.style.left=`${(a.width-x.width)/2}px`,d.value.style.width=`${x.width}px`):(d.value.style.left=`${l}px`,d.value.style.width=`${e}px`))}function U(r,a){r!==g.value&&(g.value=r,W(()=>{M(a)}))}let I=new MutationObserver(()=>{if(o.value){const r=o.value.getBoundingClientRect().top;43.99<=r&&r<=44?P(!0):P(!1)}});function P(r){h.value!==r&&(h.value=r,M(!0))}return O(()=>{I&&o.value&&I.observe(o.value,{attributes:!0,attributeFilter:["class"]}),d.value&&(M(),window.addEventListener("resize",()=>{M()}))}),G(()=>{I&&I.disconnect()}),(r,a)=>(s(),i("div",{ref_key:"navBar",ref:o,class:Q(["navBar",{navBarTop:h.value}])},[t("div",{ref_key:"searchButton",ref:p,class:"searchButton",style:L(`left: ${h.value?"10px":"20px"};`),onMouseenter:a[0]||(a[0]=y=>_(!0)),onMouseleave:a[1]||(a[1]=y=>_(!1)),onMousedown:a[2]||(a[2]=y=>r.handlePress(!0)),onMouseup:a[3]||(a[3]=y=>r.handlePress(!1)),onTouchstart:a[4]||(a[4]=y=>_(!0)),onTouchend:a[5]||(a[5]=y=>_(!1)),onTouchcancel:a[6]||(a[6]=y=>_(!1))},[S.value?D("",!0):(s(),z(b,{key:0,color:"#000000",size:[16,16],src:"./image/SF-Symbol/magnifyingglass.svg"})),S.value?(s(),z(b,{key:1,size:[16,16],src:"./image/SF-Symbol/magnifyingglass-bold.svg"})):D("",!0),a[7]||(a[7]=Z(" 搜索 "))],36),g.value?D("",!0):(s(),i("div",{key:0,ref_key:"optionContainer",ref:d,class:"optionContainer"},[(s(!0),i(R,null,E(v.options,(y,H)=>(s(),i(R,{key:y.value},[H!==0?(s(),i("div",ue)):D("",!0),t("div",{class:Q(["optionButton",{active:v.selected===y.value}]),onClick:l=>c(y.value)},q(y.label),11,de)],64))),128))],512)),g.value?(s(),i("div",{key:1,ref_key:"optionContainer",ref:d,class:"optionSelectButton"},[f(X,{options:T.value,values:F.value,onSelectChange:c},null,8,["options","values"])],512)):D("",!0),t("div",{ref_key:"sortButton",ref:k,class:"sortButton",style:L(`right: ${h.value?"10px":"20px"};`)},[f(X,{options:["时间顺序","时间倒序"]})],4)],2))}},ve=A(ce,[["__scopeId","data-v-db3095c4"]]),pe={id:"navTop"},ge=["onClick"],me=["src","title"],fe=["onClick"],ye=["src","title"],he={class:"contentView"},ke={class:"profilePhotoModule"},Se={class:"linkAndSetting"},we={class:"switchBlur blur"},be=["href"],Be=["src","title"],Le=["onClick"],$e=["src","title"],xe={class:"list switchBlur blur"},Ce=["src","width","title"],_e=["src","width","title"],Re={__name:"LianJun",setup(v){const w=te(),$=u([{label:"全部",value:"all"},{label:"项目",value:"project"},{label:"视频",value:"video"},{label:"文章",value:"essay"}]),S=u([]),h=u([]),g=u([]),o=u("all"),p=u(325),k=u(null),d=u(null),m=u(null),c=u(null),T=l=>{const n=document.getElementById("navTop"),e=document.getElementById("navTitle"),C=document.getElementById("navLeft"),j=document.getElementById("navRight");l>p.value?(n.classList.add("navBackground","navBackgroundDivider"),e.classList.add("navShow"),e.classList.remove("navHidden"),document.querySelectorAll(".switchBlur").forEach(J=>{J.classList.remove("blur")}),document.querySelector(".contentBackground").classList.add("blur")):(n.classList.remove("navBackground","navBackgroundDivider"),e.classList.remove("navShow"),e.classList.add("navHidden"),document.querySelectorAll(".switchBlur").forEach(J=>{J.classList.add("blur")}),document.querySelector(".contentBackground").classList.remove("blur")),l>p.value+80?(C.classList.remove("navHidden"),C.classList.add("navShow"),j.classList.remove("navHidden"),j.classList.add("navShow")):(C.classList.remove("navShow"),C.classList.add("navHidden"),j.classList.remove("navShow"),j.classList.add("navHidden")),l>p.value+250?(document.querySelector(".navBar").classList.add("navBackgroundDivider"),n.classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","88px")):(document.querySelector(".navBar").classList.remove("navBackgroundDivider"),document.documentElement.style.setProperty("--contentBackgroundTop","44px"),l>p.value&&n.classList.add("navBackgroundDivider"))},F=()=>{k.value&&T(k.value.scrollTop)},_=()=>{m.value&&c.value&&(m.value.style.animationPlayState="paused",c.value.style.animationPlayState="paused")},x=()=>{m.value&&c.value&&(m.value.style.animationPlayState="running",c.value.style.animationPlayState="running")},M=async()=>{try{const n=await(await fetch("./json/index.json")).json(),e=Object.keys(n);S.value=e.flatMap(C=>n[C].slice(1).map(j=>({...j,type:n[C][0]})))}catch(l){console.error("Error fetching content data:",l)}},U=async()=>{try{const[l,n]=await Promise.all([fetch("./json/link.json"),fetch("./json/skIcon.json")]);h.value=await l.json(),g.value=await n.json()}catch(l){console.error("Error fetching data:",l)}},I=V(()=>o.value==="all"?S.value:S.value.filter(l=>l.type===o.value)),P=V(()=>h.value),r=V(()=>g.value),a=l=>{l.startsWith("mailto:")?location.assign(l):window.open(l,"_blank")},y=(l,n)=>{n?w.push({name:l,query:{path:n}}):w.push({name:l})},H=l=>{o.value=l};return O(()=>{k.value&&k.value.addEventListener("scroll",F),d.value&&(d.value.addEventListener("mouseenter",_),d.value.addEventListener("mouseleave",x)),setTimeout(()=>{m.value.style.animationPlayState="paused",c.value.style.animationPlayState="paused",setTimeout(()=>{m.value.style.animationPlayState="running",c.value.style.animationPlayState="running"},1e3)},100),w.path==="/"?(p.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(p.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px")),U(),M()}),G(()=>{k.value&&k.value.removeEventListener("scroll",F),d.value&&(d.value.removeEventListener("mouseenter",_),d.value.removeEventListener("mouseleave",x))}),ee(()=>w.path,l=>{l==="/"?(p.value=325,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","200px")):(p.value=145,document.documentElement.style.setProperty("--profilePhotoModuleMarginTop","20px"))}),(l,n)=>(s(),i("div",{ref_key:"scrollView",ref:k},[t("nav",pe,[l.$route.name!=="lianjun"?(s(),i("div",{key:0,id:"navLeft",class:"navHidden",onClick:n[0]||(n[0]=e=>y("lianjun"))},[f(b,{src:"./image/SF-Symbol/house.svg"}),n[3]||(n[3]=t("span",null,"主页",-1))])):D("",!0),l.$route.name==="lianjun"?(s(),z(N,{key:1,id:"navLeft",class:"navHidden",position:[20,0,0,-60]},{menuList:B(()=>[(s(!0),i(R,null,E(P.value,e=>(s(),i("div",{onClick:C=>a(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,me),t("span",{style:L(`color: ${e.color};`)},q(e.name),5)]),f(b,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,ge))),128))]),default:B(()=>[f(b,{src:"./image/SF-Symbol/phone.svg"}),n[4]||(n[4]=t("span",null,"联系",-1))]),_:1})):D("",!0),n[8]||(n[8]=t("div",{id:"navTitle",class:"navHidden"},[t("img",{src:"./image/lianjun.png"}),t("span",null,"LianJun")],-1)),f(N,{id:"navRight",class:"navHidden"},{menuList:B(()=>[t("div",null,[f(b,{src:"./image/SF-Symbol/gearshape.svg"}),n[5]||(n[5]=t("span",null,"设置",-1))]),l.$route.name!=="lianjun"?(s(),z(N,{key:0},{menuList:B(()=>[(s(!0),i(R,null,E(P.value,e=>(s(),i("div",{onClick:C=>a(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,ye),t("span",{style:L(`color: ${e.color};`)},q(e.name),5)]),f(b,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,fe))),128))]),default:B(()=>[f(b,{src:"./image/SF-Symbol/phone.svg"}),n[6]||(n[6]=t("span",null,"联系",-1))]),_:1})):D("",!0)]),default:B(()=>[f(b,{src:"./image/SF-Symbol/list.bullet.svg"}),n[7]||(n[7]=t("span",null,"功能",-1))]),_:1})]),t("div",he,[n[17]||(n[17]=t("div",{class:"contentBackground"},null,-1)),t("div",ke,[n[13]||(n[13]=t("div",null,[t("img",{src:"./image/lianjun.png"}),t("p",null,"LianJun")],-1)),t("div",Se,[(s(!0),i(R,null,E(P.value,e=>(s(),i("div",{key:e.id},[t("div",we,[t("a",{href:e.link,target:"_blank"},[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`padding: ${e.padding}px;`)},null,12,Be)],8,be)])]))),128)),n[12]||(n[12]=t("div",{class:"divider blur"},null,-1)),f(N,{selectRadius:8,position:[10,0,0,-75]},{menuList:B(()=>[t("div",null,[f(b,{src:"./image/SF-Symbol/gearshape.svg"}),n[9]||(n[9]=t("span",null,"设置",-1))]),f(N,null,{menuList:B(()=>[(s(!0),i(R,null,E(P.value,e=>(s(),i("div",{onClick:C=>a(e.link),key:e.id},[t("div",null,[t("img",{src:`./image/link/${e.image}`,title:e.name,style:L(`width: 23px; height: 23px; padding: ${e.padding}px;`)},null,12,$e),t("span",{style:L(`color: ${e.color};`)},q(e.name),5)]),f(b,{src:"./image/SF-Symbol/link.svg",color:e.color},null,8,["color"])],8,Le))),128))]),default:B(()=>[f(b,{src:"./image/SF-Symbol/phone.svg"}),n[10]||(n[10]=t("span",null,"联系",-1))]),_:1})]),default:B(()=>[n[11]||(n[11]=t("div",{class:"switchBlur blur"},[t("img",{class:"linkButtonImage",src:"./image/link/setting.png",title:"设置",style:{padding:"4px"}})],-1))]),_:1})])]),t("div",xe,[t("div",{class:"listRow",onClick:n[1]||(n[1]=e=>y("sklist"))},n[14]||(n[14]=[t("div",null,[t("p",{class:"textFonte"},"简介")],-1),t("div",null,[t("p",{class:"subTextFont"},"喜欢研究 UI 的独立开发者"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),n[16]||(n[16]=t("hr",{class:"listHr"},null,-1)),t("div",{class:"listRow",onClick:n[2]||(n[2]=e=>y("sklist"))},n[15]||(n[15]=[t("div",null,[t("p",{class:"textFonte"},"经历")],-1),t("div",null,[t("p",{class:"subTextFont"},"iOS 开发、前端开发、UI 设计 等"),t("img",{src:"./image/SF-Symbol/chevron.forward.png"})],-1)])),t("div",{class:"skillScrollRow",ref_key:"skillScrollRow",ref:d},[t("div",{class:"scrollView",ref_key:"skillScrollSubRow1",ref:m},[(s(!0),i(R,null,E(r.value,e=>(s(),i("div",{key:e.id},[t("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:L(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,Ce)]))),128))],512),t("div",{class:"scrollView",ref_key:"skillScrollSubRow2",ref:c},[(s(!0),i(R,null,E(r.value,e=>(s(),i("div",{key:e.id},[t("img",{src:`./image/skill/${e.image}`,class:"skillImage",width:e.size,style:L(`margin-right: ${e.marginRight}px; border-radius: ${e.radius}px;`),title:e.info},null,12,_e)]))),128))],512)],512)]),f(ve,{class:"blur",options:$.value,selected:o.value,onFilterChange:H},null,8,["options","selected"]),f(ne,{columnCount:4},{default:B(()=>[(s(!0),i(R,null,E(I.value,e=>(s(),i("div",{key:e.path},[(s(),z(le,{item:e,class:"switchBlur blur",onClick:C=>y(e.sub?"sublist":"content",e.path),key:e.path},null,8,["item","onClick"]))]))),128))]),_:1})])],512))}},Fe=A(Re,[["__scopeId","data-v-5e2b624b"]]);export{Fe as default};
