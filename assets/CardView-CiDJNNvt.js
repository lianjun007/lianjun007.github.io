import{_ as E,r as s,o as L,a as S,b as n,c as i,k as v,j as x,e as t,g as r,t as a,F as f,h as u}from"./index-CrV8Jhpx.js";const B={name:"CardView",props:{infoArray:{type:Object,required:!0}},setup(m){const h=s(m.infoArray),l=s(null),e=s(0),V=s(0),g=s(0),c=s(!0);let C;const y=()=>{if(l.value){const o=l.value.getBoundingClientRect().width;e.value=o/7>30?o/7:20,V.value=o/3,g.value=o/13>20?o/13:20;const d=300;c.value=o>=d}},w=s(null),k=()=>{if(!w.value)return;const o=w.value,d=o.scrollLeft,_=o.scrollWidth-o.clientWidth,D=20,R=d<=0,T=d>=_,A=R?0:D,b=T?100:100-D;o.style.mask=`
            linear-gradient(
                90deg,
                transparent 0,
                #fff ${A}%,
                #fff ${b}%,
                transparent 100%
            )
            `},z=()=>{if(!w.value)return;let o;const d=w.value,_=()=>{window.cancelAnimationFrame(o),o=window.requestAnimationFrame(k)};return d.addEventListener("scroll",_),setTimeout(()=>{k()},500),()=>{d.removeEventListener("scroll",_)}};return L(()=>{l.value&&(y(),C=new ResizeObserver(y),C.observe(l.value));const o=z();S(()=>{o&&o()})}),S(()=>{C&&C.disconnect()}),{cardViewContent:h,moduleRef:l,modulePadding:e,imageSize:V,fontSize:g,isShowInfo:c,tagContainerRef:w}}},F=["src","width"],W={class:"dateText"},I={key:0},O={class:"tagContainer",ref:"tagContainerRef"},j={class:"tag"},q={key:0,class:"info"},N=["src"],P={class:"title"},G={class:"dateText"},H={key:0},M={class:"tagContainer",ref:"tagContainerRef"},U={class:"tag"},J={key:0,class:"info"},K=["src"],Q={class:"title"},X={class:"dateText"},Y={key:0},Z={class:"tagContainer",ref:"tagContainerRef"},p={class:"tag"},$={key:0,class:"info"},ee=["src"],te={class:"dateText"},ne={key:0},ie={class:"tag"};function ae(m,h,l,e,V,g){return n(),i("div",null,[e.cardViewContent.view==="module"?(n(),i("div",{key:0,class:v(e.cardViewContent.view),ref:"moduleRef",style:x(`padding: ${e.modulePadding}px;`)},[t("div",null,[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`,width:e.imageSize},null,8,F)):r("",!0),t("div",null,[t("p",{class:"title",style:x(`font-size: ${e.fontSize}px;`)},a(e.cardViewContent.title),5),t("div",W,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",I," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)])])]),t("div",O,[(n(!0),i(f,null,u(e.cardViewContent.tag,c=>(n(),i("div",{key:c},[t("div",j,a(c),1)]))),128))],512),e.isShowInfo&&e.cardViewContent.info?(n(),i("p",q,a(e.cardViewContent.info),1)):r("",!0)],6)):r("",!0),e.cardViewContent.view==="set"?(n(),i("div",{key:1,class:v(e.cardViewContent.view)},[t("div",null,[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`},null,8,N)):r("",!0),t("div",null,[t("p",P,a(e.cardViewContent.title),1),t("div",G,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",H," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)]),t("div",M,[(n(!0),i(f,null,u(e.cardViewContent.tag,c=>(n(),i("div",{key:c},[t("div",U,a(c),1)]))),128))],512)])]),e.cardViewContent.info?(n(),i("p",J,a(e.cardViewContent.info),1)):r("",!0)],2)):r("",!0),e.cardViewContent.view==="cover"?(n(),i("div",{key:2,class:v(e.cardViewContent.view)},[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`},null,8,K)):r("",!0),t("div",null,[t("div",null,[t("div",null,[t("p",Q,a(e.cardViewContent.title),1),t("div",X,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",Y," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)])])]),t("div",Z,[(n(!0),i(f,null,u(e.cardViewContent.tag,c=>(n(),i("div",null,[t("div",p,a(c),1)]))),256))],512),e.cardViewContent.info?(n(),i("p",$,a(e.cardViewContent.info),1)):r("",!0)])],2)):r("",!0),e.cardViewContent.view==="essay"?(n(),i("div",{key:3,class:v(e.cardViewContent.view)},[t("div",null,[e.cardViewContent.image?(n(),i("img",{key:0,src:`./image/${e.cardViewContent.image}`},null,8,ee)):r("",!0),t("div",null,[t("p",null,a(e.cardViewContent.title),1),t("div",te,[t("span",null,a(e.cardViewContent.createDate),1),e.cardViewContent.updateDate?(n(),i("span",ne," 至 "+a(e.cardViewContent.updateDate),1)):r("",!0)])])]),t("div",null,[(n(!0),i(f,null,u(e.cardViewContent.tag,c=>(n(),i("div",null,[t("div",ie,a(c),1)]))),256))]),t("p",null,a(e.cardViewContent.info),1)],2)):r("",!0)])}const re=E(B,[["render",ae],["__scopeId","data-v-49f6dd84"]]);export{re as C};
